{"id": "0", "text": "# claw - Claude Automated Workflow\n\n![Version](https://img.shields.io/badge/version-0.4.3-blue)\n![Tests](https://img.shields.io/badge/tests-165%20passing-green)\n![License](https://img.shields.io/badge/license-MIT-brightgreen)\n\n> **Supercharge Claude Code with project detection, agent brainstorming, and semantic search**\n\nDetects your project type, recommends specialized AI agents for brainstorming, and adds semantic code search. Install once, use in any project.\n\n## What's Working\n\n- 17+ project types auto-detected (Unity, Godot, SaaS, Web3, ML, API, mobile, desktop, CLI, library)\n- 17 specialized agents for multi-perspective brainstorming\n- LEANN semantic search integration\n- Multi-repo project detection\n- Slash commands: `/brainstorm`, `/plan-day`, `/search`\n\n## Installation", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "1", "text": "Detects your project type, recommends specialized AI agents for brainstorming, and adds semantic code search. Install once, use in any project.\n\n## What's Working\n\n- 17+ project types auto-detected (Unity, Godot, SaaS, Web3, ML, API, mobile, desktop, CLI, library)\n- 17 specialized agents for multi-perspective brainstorming\n- LEANN semantic search integration\n- Multi-repo project detection\n- Slash commands: `/brainstorm`, `/plan-day`, `/search`\n\n## Installation\n\n**Homebrew (recommended):**\n```bash\nbrew tap bis-code/tap\nbrew install claw\n```\n\n**Manual:**\n```bash\ngit clone https://github.com/bis-code/claude-code-setup.git\ncd claude-code-setup\n./install.sh --prefix ~/.local\n```\n\n---\n\n## Usage Levels\n\nStart simple, add capabilities as needed.\n\n### Level 1: Basic Setup", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "2", "text": "## Installation\n\n**Homebrew (recommended):**\n```bash\nbrew tap bis-code/tap\nbrew install claw\n```\n\n**Manual:**\n```bash\ngit clone https://github.com/bis-code/claude-code-setup.git\ncd claude-code-setup\n./install.sh --prefix ~/.local\n```\n\n---\n\n## Usage Levels\n\nStart simple, add capabilities as needed.\n\n### Level 1: Basic Setup\n\n```bash\ncd your-project\nclaw init\n```\n\nCreates `.claude/` with slash commands and `CLAUDE.md`. Use `/brainstorm` in Claude Code.\n\n---\n\n### Level 2: Agent Brainstorming\n\n```bash\nclaw detect                    # See project type\nclaw agents list               # See recommended agents\nclaw agents spawn senior-dev   # Preview agent prompt\n```\n\nUse `/brainstorm Should we use Redis or PostgreSQL?` - agents debate from their perspectives.\n\n---", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "3", "text": "Start simple, add capabilities as needed.\n\n### Level 1: Basic Setup\n\n```bash\ncd your-project\nclaw init\n```\n\nCreates `.claude/` with slash commands and `CLAUDE.md`. Use `/brainstorm` in Claude Code.\n\n---\n\n### Level 2: Agent Brainstorming\n\n```bash\nclaw detect                    # See project type\nclaw agents list               # See recommended agents\nclaw agents spawn senior-dev   # Preview agent prompt\n```\n\nUse `/brainstorm Should we use Redis or PostgreSQL?` - agents debate from their perspectives.\n\n---\n\n### Level 3: Semantic Search\n\n```bash\nclaw leann build               # Auto-installs LEANN if needed, then builds index\n```\n\nRestart Claude Code after install, then use `/search \"authentication flow\"`.\n\n---\n\n### Level 4: Multi-Repo Projects\n\n```bash\nclaw multi-repo detect\n```", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "4", "text": "Use `/brainstorm Should we use Redis or PostgreSQL?` - agents debate from their perspectives.\n\n---\n\n### Level 3: Semantic Search\n\n```bash\nclaw leann build               # Auto-installs LEANN if needed, then builds index\n```\n\nRestart Claude Code after install, then use `/search \"authentication flow\"`.\n\n---\n\n### Level 4: Multi-Repo Projects\n\n```bash\nclaw multi-repo detect\n```\n\nFinds related repos by:\n1. **Prefix** - `myapp-frontend` finds `myapp-backend`\n2. **Git siblings** - Any `.git` folder in same parent\n3. **Patterns** - Folders named `frontend`, `backend`, `api`, `contracts`\n\n```bash\nclaw multi-repo config         # Create shared config\nclaw multi-repo issues         # Fetch issues from all repos\n```\n\n---\n\n### Level 5: Daily Planning", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "5", "text": "---\n\n### Level 4: Multi-Repo Projects\n\n```bash\nclaw multi-repo detect\n```\n\nFinds related repos by:\n1. **Prefix** - `myapp-frontend` finds `myapp-backend`\n2. **Git siblings** - Any `.git` folder in same parent\n3. **Patterns** - Folders named `frontend`, `backend`, `api`, `contracts`\n\n```bash\nclaw multi-repo config         # Create shared config\nclaw multi-repo issues         # Fetch issues from all repos\n```\n\n---\n\n### Level 5: Daily Planning\n\n```bash\n/plan-day                      # Requires: gh auth login\n```\n\nFetches issues tagged `claude-ready` and helps prioritize.\n\n---\n\n## Command Reference", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "6", "text": "---\n\n## Command Reference\n\n| Command | Description |\n|---------|-------------|\n| `claw init` | Initialize Claude config (auto-detects project type) |\n| `claw init --preset unity` | Initialize with specific preset |\n| `claw detect` | Show detected project type and recommended agents |\n| `claw upgrade` | Upgrade existing config to latest |\n| `claw agents list` | List all available agents |\n| `claw agents spawn <name>` | Show full prompt for an agent |\n| `claw leann status` | Show LEANN installation status |\n| `claw leann build` | Build semantic search index |\n| `claw multi-repo detect` | Detect related repositories |\n| `claw multi-repo config` | Create multi-repo configuration |\n| `claw multi-repo issues` | Fetch issues from all repos |\n| `claw version` | Show version |\n| `claw help` | Show help |", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "7", "text": "## Project Types\n\nclaw detects 17+ project types and recommends appropriate agents:\n\n| Type | Detection | Recommended Agents |\n|------|-----------|-------------------|\n| `game-unity` | `ProjectSettings/`, `.unity` | gameplay-programmer, systems-programmer, technical-artist |\n| `game-godot` | `project.godot` | gameplay-programmer, systems-programmer, tools-programmer |\n| `saas` | Next.js + Stripe/Auth | senior-dev, product, ux, security |\n| `web3` | Hardhat/Foundry | senior-dev, security, auditor |\n| `data-ml` | PyTorch/TensorFlow | data-scientist, mlops, senior-dev |\n| `api` | Express/FastAPI/NestJS | api-designer, senior-dev, security |\n| `mobile` | React Native/Expo | mobile-specialist, ux,", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "8", "text": "godot` | gameplay-programmer, systems-programmer, tools-programmer |\n| `saas` | Next.js + Stripe/Auth | senior-dev, product, ux, security |\n| `web3` | Hardhat/Foundry | senior-dev, security, auditor |\n| `data-ml` | PyTorch/TensorFlow | data-scientist, mlops, senior-dev |\n| `api` | Express/FastAPI/NestJS | api-designer, senior-dev, security |\n| `mobile` | React Native/Expo | mobile-specialist, ux, qa |\n| `desktop` | Electron/Tauri | desktop-specialist, ux, senior-dev |\n| `cli` | Has `bin` or `cmd/` | senior-dev, docs, qa |\n| `library` | Publishable package | senior-dev, docs, api-designer |\n| `web` | React/Vue/Svelte | senior-dev, ux, product, qa |", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "9", "text": "mlops, senior-dev |\n| `api` | Express/FastAPI/NestJS | api-designer, senior-dev, security |\n| `mobile` | React Native/Expo | mobile-specialist, ux, qa |\n| `desktop` | Electron/Tauri | desktop-specialist, ux, senior-dev |\n| `cli` | Has `bin` or `cmd/` | senior-dev, docs, qa |\n| `library` | Publishable package | senior-dev, docs, api-designer |\n| `web` | React/Vue/Svelte | senior-dev, ux, product, qa |\n\n## Agent Roster\n\n17 specialized agents provide different perspectives:", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "10", "text": "senior-dev |\n| `cli` | Has `bin` or `cmd/` | senior-dev, docs, qa |\n| `library` | Publishable package | senior-dev, docs, api-designer |\n| `web` | React/Vue/Svelte | senior-dev, ux, product, qa |\n\n## Agent Roster\n\n17 specialized agents provide different perspectives:\n\n**General:**\n| Agent | Focus |\n|-------|-------|\n| `senior-dev` | Code architecture, patterns, technical debt |\n| `product` | User value, prioritization, MVP scope |\n| `cto` | Technical strategy, scalability, team considerations |\n| `qa` | Testing strategies, edge cases, quality gates |\n| `ux` | User experience, accessibility, interaction design |\n| `security` | Vulnerabilities, compliance, secure coding |\n| `docs` | Documentation, API design, developer experience |\n| `api-designer` | REST/GraphQL design, versioning, contracts |", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "11", "text": "**General:**\n| Agent | Focus |\n|-------|-------|\n| `senior-dev` | Code architecture, patterns, technical debt |\n| `product` | User value, prioritization, MVP scope |\n| `cto` | Technical strategy, scalability, team considerations |\n| `qa` | Testing strategies, edge cases, quality gates |\n| `ux` | User experience, accessibility, interaction design |\n| `security` | Vulnerabilities, compliance, secure coding |\n| `docs` | Documentation, API design, developer experience |\n| `api-designer` | REST/GraphQL design, versioning, contracts |\n\n**Game Development:**\n| Agent | Focus |\n|-------|-------|\n| `gameplay-programmer` | Game mechanics, player feel, systems |\n| `systems-programmer` | Core systems, performance, memory |\n| `tools-programmer` | Editor tools, automation, pipeline |\n| `technical-artist` | Shaders, VFX, rendering optimization |", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "12", "text": "**Game Development:**\n| Agent | Focus |\n|-------|-------|\n| `gameplay-programmer` | Game mechanics, player feel, systems |\n| `systems-programmer` | Core systems, performance, memory |\n| `tools-programmer` | Editor tools, automation, pipeline |\n| `technical-artist` | Shaders, VFX, rendering optimization |\n\n**Specialized:**\n| Agent | Focus |\n|-------|-------|\n| `data-scientist` | ML models, data pipelines, experiments |\n| `mlops` | Model deployment, monitoring, infrastructure |\n| `mobile-specialist` | Mobile-specific patterns, performance |\n| `desktop-specialist` | Desktop app patterns, native integration |\n| `auditor` | Smart contract security, formal verification |\n\n## Presets", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "13", "text": "**Specialized:**\n| Agent | Focus |\n|-------|-------|\n| `data-scientist` | ML models, data pipelines, experiments |\n| `mlops` | Model deployment, monitoring, infrastructure |\n| `mobile-specialist` | Mobile-specific patterns, performance |\n| `desktop-specialist` | Desktop app patterns, native integration |\n| `auditor` | Smart contract security, formal verification |\n\n## Presets\n\n| Preset | Best For |\n|--------|----------|\n| `full` | All features enabled |\n| `base` | Standard configuration |\n| `slim` | Minimal setup |\n| `hardhat` | Web3/Solidity development |\n| `unity` | Unity game development |\n| `react` | React/Next.js web apps |\n\n## What Gets Installed", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "14", "text": "## Presets\n\n| Preset | Best For |\n|--------|----------|\n| `full` | All features enabled |\n| `base` | Standard configuration |\n| `slim` | Minimal setup |\n| `hardhat` | Web3/Solidity development |\n| `unity` | Unity game development |\n| `react` | React/Next.js web apps |\n\n## What Gets Installed\n\n```\nyour-project/\n├── .claude/\n│   ├── commands/\n│   │   ├── brainstorm.md    # Multi-agent brainstorming\n│   │   ├── plan-day.md      # Daily planning from issues\n│   │   └── search.md        # Semantic search\n│   └── skills/\n└── CLAUDE.md                # Project instructions\n```\n\n## Requirements\n\n- Bash 4.0+\n- Claude Code CLI\n- Git", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "15", "text": "## What Gets Installed\n\n```\nyour-project/\n├── .claude/\n│   ├── commands/\n│   │   ├── brainstorm.md    # Multi-agent brainstorming\n│   │   ├── plan-day.md      # Daily planning from issues\n│   │   └── search.md        # Semantic search\n│   └── skills/\n└── CLAUDE.md                # Project instructions\n```\n\n## Requirements\n\n- Bash 4.0+\n- Claude Code CLI\n- Git\n\n**Optional (for enhanced features):**\n- LEANN (`pip install leann` or `uvx leann`) - Semantic search\n- GitHub CLI (`gh`) - Issue fetching, multi-repo coordination\n\n## Development\n\n```bash\nmake setup      # Install all dependencies\nmake test       # Run core tests (165 tests)\nmake test-all   # Run all tests including external deps\n```\n\n## Contributing", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "16", "text": "## Requirements\n\n- Bash 4.0+\n- Claude Code CLI\n- Git\n\n**Optional (for enhanced features):**\n- LEANN (`pip install leann` or `uvx leann`) - Semantic search\n- GitHub CLI (`gh`) - Issue fetching, multi-repo coordination\n\n## Development\n\n```bash\nmake setup      # Install all dependencies\nmake test       # Run core tests (165 tests)\nmake test-all   # Run all tests including external deps\n```\n\n## Contributing\n\n1. Fork the repository\n2. Create a feature branch\n3. Make changes and add tests\n4. Submit PR with label: `feature`, `fix`, `docs`, or `chore`\n\n## License\n\nMIT", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/README.md", "file_name": "README.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "17", "text": "#!/usr/bin/env bash\n#\n# install.sh - Installation script for claw\n#\n\nset -euo pipefail\n\n# Portable sed -i (works on both macOS and Linux)\nsed_inplace() {\n    if [[ \"$OSTYPE\" == \"darwin\"* ]]; then\n        sed -i '' \"$@\"\n    else\n        sed -i \"$@\"\n    fi\n}\n\n# Parse arguments\nPREFIX=\"${PREFIX:-/usr/local}\"\nUSE_SUDO=true\n\nwhile [[ $# -gt 0 ]]; do\n    case \"$1\" in\n        --prefix)\n            PREFIX=\"$2\"\n            USE_SUDO=false  # Don't use sudo for custom prefix\n            shift 2\n            ;;\n        --no-sudo)\n            USE_SUDO=false\n            shift\n            ;;\n        *)\n            shift\n            ;;\n    esac\ndone\n\nBIN_DIR=\"${PREFIX}/bin\"\nLIB_DIR=\"${PREFIX}/lib/claw\"\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\necho \"Installing claw to $PREFIX...\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/install.sh", "file_name": "install.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "18", "text": "BIN_DIR=\"${PREFIX}/bin\"\nLIB_DIR=\"${PREFIX}/lib/claw\"\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\necho \"Installing claw to $PREFIX...\"\n\n# Create directories\nif $USE_SUDO; then\n    sudo mkdir -p \"$BIN_DIR\"\n    sudo mkdir -p \"$LIB_DIR\"\n    sudo cp -r \"$SCRIPT_DIR/lib/\"* \"$LIB_DIR/\"\n    sudo cp -r \"$SCRIPT_DIR/templates\" \"$LIB_DIR/\"\n    sudo cp \"$SCRIPT_DIR/bin/claw\" \"$BIN_DIR/\"\n    sudo chmod +x \"$BIN_DIR/claw\"\n    # Update paths in installed script (portable for macOS and Linux)\n    if [[ \"$OSTYPE\" == \"darwin\"* ]]; then\n        sudo sed -i '' \"s|LIB_DIR=\\\"\\${SCRIPT_DIR}/../lib\\\"|LIB_DIR=\\\"${LIB_DIR}\\\"|\" \"$BIN_DIR/claw\"\n        sudo sed -i '' \"s|TEMPLATES_DIR=\\\"\\${SCRIPT_DIR}/../templates\\\"|TEMPLATES_DIR=\\\"${LIB_DIR}/templates\\\"|\" \"$BIN_DIR/claw\"\n    else\n        sudo sed -i \"s|LIB_DIR=\\\"\\${SCRIPT_DIR}/../lib\\\"|LIB_DIR=\\\"${LIB_DIR}\\\"|\" \"$BIN_DIR/claw\"\n        sudo sed -i \"s|TEMPLATES_DIR=\\\"\\${SCRIPT_DIR}/../templates\\\"|TEMPLATES_DIR=\\\"${LIB_DIR}/templates\\\"|\" \"$BIN_DIR/claw\"\n    fi\nelse\n    mkdir -p \"$BIN_DIR\"\n    mkdir -p \"$LIB_DIR\"\n    cp -r \"$SCRIPT_DIR/lib/\"* \"$LIB_DIR/\"\n    cp -r \"$SCRIPT_DIR/templates\" \"$LIB_DIR/\"\n    cp \"$SCRIPT_DIR/bin/claw\" \"$BIN_DIR/\"\n    chmod +x \"$BIN_DIR/claw\"\n    # Update paths in installed script\n    sed_inplace \"s|LIB_DIR=\\\"\\${SCRIPT_DIR}/../lib\\\"|LIB_DIR=\\\"${LIB_DIR}\\\"|\" \"$BIN_DIR/claw\"\n    sed_inplace \"s|TEMPLATES_DIR=\\\"\\${SCRIPT_DIR}/../templates\\\"|TEMPLATES_DIR=\\\"${LIB_DIR}/templates\\\"|\" \"$BIN_DIR/claw\"\nfi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/install.sh", "file_name": "install.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "19", "text": "echo \"Installed to $BIN_DIR/claw\"\necho \"\"\necho \"Run 'claw help' to get started.\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/install.sh", "file_name": "install.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "20", "text": "#!/usr/bin/env bash\n# agents.sh - Agent roster and prompts for claw\n\nset -euo pipefail\n\n# Get prompt for a specific agent\nget_agent_prompt() {\n    local agent_name=\"$1\"\n    local issues_context=\"${2:-}\"\n\n    case \"$agent_name\" in\n        senior-dev)\n            cat << 'PROMPT'\nYou are a Senior Developer analyzing issues for today's sprint.\n\nYour focus:\n- Code architecture and implementation patterns\n- Technical debt and refactoring opportunities\n- Performance optimization\n- Best practices and code quality\n\nFor each issue, consider:\n1. Implementation approach and complexity estimate\n2. Potential risks and edge cases\n3. Dependencies on other tasks\n4. Testing strategy\nPROMPT\n            ;;\n        product)\n            cat << 'PROMPT'\nYou are a Product Manager analyzing issues for today's sprint.\n\nYour focus:\n- User value and business impact\n- Feature prioritization\n- User stories and acceptance criteria\n- MVP scope definition\n\nFor each issue, consider:\n1. User benefit and business value\n2. Priority relative to other features\n3. Minimum viable implementation\n4. Success metrics\nPROMPT\n            ;;\n        cto)\n            cat << 'PROMPT'\nYou are a CTO providing strategic technical guidance.\n\nYour focus:\n- Architecture decisions and scalability\n- Technology choices and trade-offs\n- Team efficiency and developer experience\n- Long-term maintainability\n\nFor each issue, consider:\n1. Architectural implications\n2. Scalability concerns\n3. Technical strategy alignment\n4. Resource allocation\nPROMPT\n            ;;\n        qa)\n            cat << 'PROMPT'\nYou are a QA Engineer analyzing issues for testing strategy.\n\nYour focus:\n- Test coverage and quality assurance\n- Edge cases and failure modes\n- Regression risks\n- Test automation opportunities\n\nFor each issue, consider:\n1. Test scenarios needed\n2. Potential regression impacts\n3. Edge cases to cover\n4. Automation feasibility\nPROMPT\n            ;;\n        ux)\n            cat << 'PROMPT'\nYou are a UX Designer analyzing issues for user experience.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/agents.sh", "file_name": "agents.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "21", "text": "Your focus:\n- User interface and interaction design\n- Accessibility and usability\n- Consistency with design system\n- User feedback integration\n\nFor each issue, consider:\n1. User flow impact\n2. Accessibility requirements\n3. Design system alignment\n4. User testing needs\nPROMPT\n            ;;\n        security)\n            cat << 'PROMPT'\nYou are a Security Engineer analyzing issues for security implications.\n\nYour focus:\n- Security vulnerabilities and risks\n- Authentication and authorization\n- Data protection and privacy\n- Compliance requirements\n\nFor each issue, consider:\n1. Security risks introduced\n2. Attack vectors to mitigate\n3. Data handling concerns\n4. Compliance implications\nPROMPT\n            ;;\n        gameplay-programmer)\n            cat << 'PROMPT'\nYou are a Gameplay Programmer analyzing issues for today's sprint.\n\nYour focus:\n- Game mechanics, player feel, controls, balancing\n- Input handling and responsiveness\n- Game state management\n- Player progression systems\n\nFor each issue, consider:\n1. Impact on player experience\n2. Game feel and polish requirements\n3. Balancing implications\n4. Iteration and tuning needs\nPROMPT\n            ;;\n        systems-programmer)\n            cat << 'PROMPT'\nYou are a Systems Programmer analyzing issues for today's sprint.\n\nYour focus:\n- Core engine systems and architecture\n- Memory management and performance\n- Networking and multiplayer\n- Platform-specific considerations\n\nFor each issue, consider:\n1. System architecture impact\n2. Performance implications\n3. Memory and resource usage\n4. Cross-platform compatibility\nPROMPT\n            ;;\n        tools-programmer)\n            cat << 'PROMPT'\nYou are a Tools Programmer analyzing issues for today's sprint.\n\nYour focus:\n- Editor tools, automation, pipeline\n- Content creation workflows\n- Build and deployment systems\n- Developer productivity\n\nFor each issue, consider:\n1. Workflow improvements\n2. Automation opportunities\n3. Pipeline efficiency\n4. Team productivity impact\nPROMPT\n            ;;\n        technical-artist)\n            cat << 'PROMPT'\nYou are a Technical Artist analyzing issues for today's sprint.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/agents.sh", "file_name": "agents.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "22", "text": "Your focus:\n- Shaders, materials, VFX, optimization\n- Art pipeline and asset workflows\n- Visual quality vs performance\n- Rendering techniques\n\nFor each issue, consider:\n1. Visual quality requirements\n2. Performance budget impact\n3. Art pipeline needs\n4. Technical art constraints\nPROMPT\n            ;;\n        data-scientist)\n            cat << 'PROMPT'\nYou are a Data Scientist analyzing issues for today's sprint.\n\nYour focus:\n- Data analysis and insights\n- Model development and training\n- Feature engineering\n- Experiment design\n\nFor each issue, consider:\n1. Data requirements\n2. Model complexity\n3. Evaluation metrics\n4. Experiment setup\nPROMPT\n            ;;\n        mlops)\n            cat << 'PROMPT'\nYou are an MLOps Engineer analyzing issues for today's sprint.\n\nYour focus:\n- Model deployment and serving\n- Training pipelines and infrastructure\n- Monitoring and observability\n- Model versioning and reproducibility\n\nFor each issue, consider:\n1. Deployment requirements\n2. Infrastructure needs\n3. Monitoring strategy\n4. CI/CD for ML\nPROMPT\n            ;;\n        api-designer)\n            cat << 'PROMPT'\nYou are an API Designer analyzing issues for today's sprint.\n\nYour focus:\n- API design and contracts\n- Versioning and backwards compatibility\n- Documentation and developer experience\n- REST/GraphQL best practices\n\nFor each issue, consider:\n1. API contract changes\n2. Breaking changes and versioning\n3. Documentation needs\n4. Client impact\nPROMPT\n            ;;\n        docs)\n            cat << 'PROMPT'\nYou are a Documentation Specialist analyzing issues for today's sprint.\n\nYour focus:\n- Technical documentation\n- User guides and tutorials\n- API documentation\n- Code examples\n\nFor each issue, consider:\n1. Documentation updates needed\n2. User-facing impact\n3. Example code requirements\n4. Cross-references\nPROMPT\n            ;;\n        auditor)\n            cat << 'PROMPT'\nYou are a Smart Contract Auditor analyzing issues for today's sprint.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/agents.sh", "file_name": "agents.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "23", "text": "Your focus:\n- Smart contract security\n- Gas optimization\n- Protocol vulnerabilities\n- Best practices compliance\n\nFor each issue, consider:\n1. Security implications\n2. Gas efficiency\n3. Attack vectors\n4. Audit requirements\nPROMPT\n            ;;\n        mobile-specialist)\n            cat << 'PROMPT'\nYou are a Mobile Development Specialist analyzing issues for today's sprint.\n\nYour focus:\n- iOS and Android platform specifics\n- Mobile performance and battery\n- App store requirements\n- Cross-platform considerations\n\nFor each issue, consider:\n1. Platform-specific needs\n2. Performance on mobile\n3. App store compliance\n4. Native vs cross-platform\nPROMPT\n            ;;\n        desktop-specialist)\n            cat << 'PROMPT'\nYou are a Desktop Development Specialist analyzing issues for today's sprint.\n\nYour focus:\n- Desktop platform specifics (Windows, macOS, Linux)\n- Native integrations and system access\n- Distribution and updates\n- Cross-platform compatibility\n\nFor each issue, consider:\n1. Platform-specific needs\n2. System integration requirements\n3. Distribution strategy\n4. Update mechanism\nPROMPT\n            ;;\n        *)\n            echo \"Unknown agent: $agent_name\"\n            return 0\n            ;;\n    esac\n\n    if [[ -n \"$issues_context\" ]]; then\n        echo \"\"\n        echo \"## Today's Issues\"\n        echo \"$issues_context\"\n    fi\n}\n\n# Get orchestrator prompt for synthesizing agent outputs\nget_orchestrator_prompt() {\n    cat << 'PROMPT'\nYou are an Orchestrator synthesizing insights from multiple expert perspectives.\n\nYour task:\n1. Review the analysis from each agent\n2. Identify common themes and conflicts\n3. Prioritize based on combined insights\n4. Create actionable recommendations\n\nOutput format:\n1. Priority ranking with rationale\n2. Key risks identified\n3. Recommended implementation order\n4. Dependencies and blockers\nPROMPT\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/agents.sh", "file_name": "agents.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "24", "text": "Output format:\n1. Priority ranking with rationale\n2. Key risks identified\n3. Recommended implementation order\n4. Dependencies and blockers\nPROMPT\n}\n\n# Get debate prompt for challenging other agents\nget_debate_prompt() {\n    local agent_name=\"$1\"\n    cat << PROMPT\nReview the analysis from $agent_name and:\n1. Challenge any assumptions you disagree with\n2. Add perspectives they may have missed\n3. Suggest alternative approaches\n4. Rate their priority recommendations\nPROMPT\n}\n\n# List all available agents\nlist_agents() {\n    echo \"Available Agents:\"\n    echo \"\"\n    echo \"General Purpose:\"\n    echo \"  senior-dev      - Code architecture and implementation\"\n    echo \"  product         - User value and prioritization\"\n    echo \"  cto             - Strategic technical guidance\"\n    echo \"  qa              - Testing and quality assurance\"\n    echo \"  ux              - User experience design\"\n    echo \"  security        - Security and compliance\"\n    echo \"\"\n    echo \"Game Development:\"\n    echo \"  gameplay-programmer - Game mechanics and player experience\"\n    echo \"  systems-programmer  - Core systems and performance\"\n    echo \"  tools-programmer    - Editor tools and pipelines\"\n    echo \"  technical-artist    - Shaders, VFX, optimization\"\n    echo \"\"\n    echo \"Specialized:\"\n    echo \"  data-scientist    - Data analysis and ML models\"\n    echo \"  mlops             - ML deployment and infrastructure\"\n    echo \"  api-designer      - API design and contracts\"\n    echo \"  docs              - Documentation and examples\"\n    echo \"  auditor           - Smart contract security\"\n    echo \"  mobile-specialist - Mobile development\"\n    echo \"  desktop-specialist - Desktop development\"\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/agents.sh", "file_name": "agents.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "25", "text": "#!/usr/bin/env bash\n# detect-project.sh - Project type detection for claw\n\nset -euo pipefail\n\n# ============================================================================\n# Project Type Detection\n# ============================================================================\n\n# Detect the type of project in a directory\n# Returns: saas, game-unity, game-godot, web3, library, cli, api, web, mobile, desktop, data-ml, unknown\ndetect_project_type() {\n    local dir=\"${1:-.}\"\n\n    # Game Engines\n    if [[ -d \"$dir/Assets\" ]] && [[ -d \"$dir/ProjectSettings\" ]]; then\n        echo \"game-unity\"\n        return\n    fi\n\n    if [[ -f \"$dir/project.godot\" ]]; then\n        echo \"game-godot\"\n        return\n    fi\n\n    # Web3/Blockchain\n    if [[ -f \"$dir/hardhat.config.js\" ]] || [[ -f \"$dir/hardhat.config.ts\" ]] || [[ -f \"$dir/foundry.toml\" ]]; then\n        echo \"web3\"\n        return\n    fi\n\n    # Go Projects\n    if [[ -f \"$dir/go.mod\" ]]; then\n        if [[ -d \"$dir/cmd\" ]]; then\n            echo \"cli\"\n        else\n            echo \"library\"\n        fi\n        return\n    fi\n\n    # Rust Projects\n    if [[ -f \"$dir/Cargo.toml\" ]]; then\n        if grep -q '\\[\\[bin\\]\\]' \"$dir/Cargo.toml\" 2>/dev/null; then\n            echo \"cli\"\n        else\n            echo \"library\"\n        fi\n        return\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "26", "text": "# Python Projects\n    if [[ -f \"$dir/pyproject.toml\" ]] || [[ -f \"$dir/requirements.txt\" ]] || [[ -f \"$dir/setup.py\" ]]; then\n        # Check for ML frameworks\n        if grep -qE '(torch|tensorflow|sklearn|pandas|numpy|keras|jax)' \"$dir/pyproject.toml\" \"$dir/requirements.txt\" 2>/dev/null; then\n            echo \"data-ml\"\n            return\n        fi\n        if [[ -f \"$dir/pyproject.toml\" ]] && grep -q 'packages' \"$dir/pyproject.toml\" 2>/dev/null; then\n            echo \"library\"\n            return\n        fi\n        echo \"unknown\"\n        return\n    fi\n\n    # Node.js Projects\n    if [[ -f \"$dir/package.json\" ]]; then\n        local pkg\n        pkg=$(cat \"$dir/package.json\" 2>/dev/null || echo \"{}\")\n\n        # Check for mobile frameworks\n        if echo \"$pkg\" | grep -qE '\"(react-native|expo)\"'; then\n            echo \"mobile\"\n            return\n        fi\n\n        # Check for desktop frameworks\n        if echo \"$pkg\" | grep -qE '\"(electron|@tauri-apps/api)\"'; then\n            echo \"desktop\"\n            return\n        fi\n\n        # Check for CLI\n        if echo \"$pkg\" | grep -q '\"bin\"'; then\n            echo \"cli\"\n            return\n        fi\n\n        # Check for SaaS (Next.js + payments/auth)\n        if echo \"$pkg\" | grep -qE '\"next\"' && echo \"$pkg\" | grep -qE '\"(stripe|@stripe/stripe-js|next-auth|@auth0/nextjs-auth0|clerk)\"'; then\n            echo \"saas\"\n            return\n        fi\n\n        # Check for API frameworks\n        if echo \"$pkg\" | grep -qE '\"(express|fastify|koa|hapi|@nestjs/core)\"'; then\n            echo \"api\"\n            return\n        fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "27", "text": "# Check for API frameworks\n        if echo \"$pkg\" | grep -qE '\"(express|fastify|koa|hapi|@nestjs/core)\"'; then\n            echo \"api\"\n            return\n        fi\n\n        # Check for frontend frameworks\n        if echo \"$pkg\" | grep -qE '\"(next|nuxt|react|vue|svelte|angular)\"'; then\n            echo \"web\"\n            return\n        fi\n\n        # Check for library (has main but no start script)\n        if echo \"$pkg\" | grep -q '\"main\"' && ! echo \"$pkg\" | grep -q '\"start\"'; then\n            echo \"library\"\n            return\n        fi\n    fi\n\n    echo \"unknown\"\n}\n\n# ============================================================================\n# Monorepo Detection\n# ============================================================================\n\n# Detect packages in a monorepo\n# Returns newline-separated list of package paths\ndetect_monorepo_packages() {\n    local dir=\"${1:-.}\"\n    local packages=()\n\n    # pnpm workspace\n    if [[ -f \"$dir/pnpm-workspace.yaml\" ]]; then\n        # Parse pnpm-workspace.yaml for package globs\n        local globs\n        globs=$(grep -E '^\\s*-\\s+' \"$dir/pnpm-workspace.yaml\" | sed \"s/^[[:space:]]*-[[:space:]]*//\" | tr -d \"'\\\"\\r\")\n        for glob in $globs; do\n            for pkg_dir in \"$dir\"/$glob; do\n                if [[ -d \"$pkg_dir\" ]]; then\n                    packages+=(\"$pkg_dir\")\n                fi\n            done\n        done\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "28", "text": "# npm/yarn workspaces\n    if [[ -f \"$dir/package.json\" ]]; then\n        local workspaces\n        workspaces=$(grep -o '\"workspaces\"[^]]*]' \"$dir/package.json\" 2>/dev/null | grep -oE '\"[^\"]+\\*[^\"]*\"' | tr -d '\"' || echo \"\")\n        for glob in $workspaces; do\n            for pkg_dir in \"$dir\"/$glob; do\n                if [[ -d \"$pkg_dir\" ]]; then\n                    packages+=(\"$pkg_dir\")\n                fi\n            done\n        done\n    fi\n\n    # Lerna\n    if [[ -f \"$dir/lerna.json\" ]]; then\n        local lerna_pkgs\n        lerna_pkgs=$(grep -o '\"packages\"[^]]*]' \"$dir/lerna.json\" 2>/dev/null | grep -oE '\"[^\"]+\\*[^\"]*\"' | tr -d '\"' || echo \"\")\n        for glob in $lerna_pkgs; do\n            for pkg_dir in \"$dir\"/$glob; do\n                if [[ -d \"$pkg_dir\" ]]; then\n                    packages+=(\"$pkg_dir\")\n                fi\n            done\n        done\n    fi\n\n    # Turborepo\n    if [[ -f \"$dir/turbo.json\" ]]; then\n        # Turborepo uses npm/yarn workspaces, already covered above\n        :\n    fi\n\n    # Nx\n    if [[ -f \"$dir/nx.json\" ]]; then\n        # Nx typically uses apps/ and libs/\n        for subdir in \"$dir\"/apps/* \"$dir\"/libs/*; do\n            if [[ -d \"$subdir\" ]]; then\n                packages+=(\"$subdir\")\n            fi\n        done\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "29", "text": "# Cargo workspace\n    if [[ -f \"$dir/Cargo.toml\" ]] && grep -q '\\[workspace\\]' \"$dir/Cargo.toml\" 2>/dev/null; then\n        local members\n        members=$(grep -A 10 '\\[workspace\\]' \"$dir/Cargo.toml\" | grep -oE '\"[^\"]+/\\*\"' | tr -d '\"' || echo \"\")\n        for glob in $members; do\n            for pkg_dir in \"$dir\"/$glob; do\n                if [[ -d \"$pkg_dir\" ]]; then\n                    packages+=(\"$pkg_dir\")\n                fi\n            done\n        done\n    fi\n\n    # Output packages or just the root if not a monorepo\n    if [[ ${#packages[@]} -gt 0 ]]; then\n        printf '%s\\n' \"${packages[@]}\"\n    else\n        echo \"$dir\"\n    fi\n}\n\n# Get recommended agents for a project type\nget_agents_for_type() {\n    local type=\"$1\"\n\n    case \"$type\" in\n        saas)\n            echo \"senior-dev product cto qa ux security\"\n            ;;\n        game-unity|game-godot)\n            echo \"tools-programmer gameplay-programmer systems-programmer technical-artist qa cto\"\n            ;;\n        web3)\n            echo \"senior-dev systems-programmer security auditor product qa\"\n            ;;\n        data-ml)\n            echo \"senior-dev data-scientist mlops qa\"\n            ;;\n        library)\n            echo \"senior-dev api-designer docs qa\"\n            ;;\n        api)\n            echo \"senior-dev cto security qa\"\n            ;;\n        web)\n            echo \"senior-dev ux product qa\"\n            ;;\n        mobile)\n            echo \"senior-dev ux mobile-specialist qa\"\n            ;;\n        desktop)\n            echo \"senior-dev ux desktop-specialist qa\"\n            ;;\n        cli)\n            echo \"senior-dev ux docs qa\"\n            ;;\n        *)\n            echo \"senior-dev product cto qa ux\"\n            ;;\n    esac\n}\n\n# ============================================================================\n# Multi-Repo Support\n# ============================================================================", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "30", "text": "# ============================================================================\n# Multi-Repo Support\n# ============================================================================\n\n# Detect if this repo is part of a multi-repo project\ndetect_multi_repo() {\n    local root=\"${1:-.}\"\n\n    # Check for explicit multi-repo config\n    if [[ -f \"$root/.claw/multi-repo.json\" ]]; then\n        cat \"$root/.claw/multi-repo.json\"\n        return 0\n    fi\n\n    # Check for config in parent directory\n    if [[ -f \"$(dirname \"$root\")/.claw/multi-repo.json\" ]]; then\n        cat \"$(dirname \"$root\")/.claw/multi-repo.json\"\n        return 0\n    fi\n\n    # Auto-detect sibling repos\n    local parent_dir\n    parent_dir=$(dirname \"$(realpath \"$root\" 2>/dev/null || echo \"$root\")\")\n    local current_name\n    current_name=$(basename \"$(realpath \"$root\" 2>/dev/null || echo \"$root\")\")\n    local siblings=()\n\n    # Strategy 1: Find all sibling directories that are git repos\n    local git_siblings=()\n    for sibling_dir in \"$parent_dir\"/*/; do\n        local sib_name\n        sib_name=$(basename \"$sibling_dir\")\n\n        # Skip current directory\n        [[ \"$sib_name\" == \"$current_name\" ]] && continue\n\n        # Check if it's a git repo\n        if [[ -d \"$sibling_dir/.git\" ]]; then\n            git_siblings+=(\"$sib_name\")\n        fi\n    done\n\n    # Strategy 2: Detect naming patterns (e.g., myapp-frontend, myapp-backend)\n    # Extract common prefix from current repo name\n    local common_prefix=\"\"\n    if [[ \"$current_name\" =~ ^(.+)[-_](frontend|backend|api|web|app|mobile|desktop|contracts|server|client|core|shared|common|lib|docs|infra)$ ]]; then\n        common_prefix=\"${BASH_REMATCH[1]}\"\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "31", "text": "# If we found a common prefix, look for siblings with same prefix\n    local related_siblings=()\n    if [[ -n \"$common_prefix\" ]]; then\n        for sibling_dir in \"$parent_dir\"/*/; do\n            local sib_name\n            sib_name=$(basename \"$sibling_dir\")\n            [[ \"$sib_name\" == \"$current_name\" ]] && continue\n            if [[ \"$sib_name\" == \"$common_prefix\"* ]] || [[ \"$sib_name\" == *\"$common_prefix\"* ]]; then\n                related_siblings+=(\"$sib_name\")\n            fi\n        done\n    fi\n\n    # Strategy 3: Fallback - check for common multi-repo folder patterns\n    local pattern_siblings=()\n    local patterns=(\"frontend\" \"backend\" \"api\" \"contracts\" \"web\" \"mobile\" \"desktop\" \"docs\" \"infra\" \"shared\" \"common\" \"server\" \"client\" \"app\" \"dashboard\" \"admin\")\n    for pattern in \"${patterns[@]}\"; do\n        if [[ -d \"$parent_dir/$pattern\" ]] && [[ \"$pattern\" != \"$current_name\" ]]; then\n            pattern_siblings+=(\"$pattern\")\n        fi\n    done\n\n    # Prioritize: related by prefix > git repos > pattern matches\n    local final_siblings=()\n    if [[ ${#related_siblings[@]} -gt 0 ]]; then\n        final_siblings=(\"${related_siblings[@]}\")\n    elif [[ ${#git_siblings[@]} -gt 0 ]]; then\n        final_siblings=(\"${git_siblings[@]}\")\n    else\n        final_siblings=(\"${pattern_siblings[@]}\")\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "32", "text": "if [[ ${#final_siblings[@]} -gt 0 ]]; then\n        echo \"{\"\n        echo '  \"detected\": true,'\n        echo \"  \\\"parent\\\": \\\"$parent_dir\\\",\"\n        echo \"  \\\"current\\\": \\\"$current_name\\\",\"\n        [[ -n \"$common_prefix\" ]] && echo \"  \\\"prefix\\\": \\\"$common_prefix\\\",\"\n        echo '  \"siblings\": ['\n        local first=true\n        for sib in \"${final_siblings[@]}\"; do\n            if ! $first; then echo \",\"; fi\n            first=false\n            local sib_type\n            sib_type=$(detect_project_type \"$parent_dir/$sib\")\n            local sib_remote=\"\"\n            if [[ -d \"$parent_dir/$sib/.git\" ]]; then\n                sib_remote=$(git -C \"$parent_dir/$sib\" remote get-url origin 2>/dev/null || echo \"\")\n            fi\n            echo \"    {\"\n            echo \"      \\\"name\\\": \\\"$sib\\\",\"\n            echo \"      \\\"path\\\": \\\"$parent_dir/$sib\\\",\"\n            echo \"      \\\"type\\\": \\\"$sib_type\\\"\"\n            [[ -n \"$sib_remote\" ]] && echo \"      ,\\\"remote\\\": \\\"$sib_remote\\\"\"\n            echo -n \"    }\"\n        done\n        echo \"\"\n        echo \"  ]\"\n        echo \"}\"\n        return 0\n    fi\n\n    echo '{\"detected\": false}'\n    return 0\n}\n\n# Fetch issues from all repos in a multi-repo setup\nfetch_multi_repo_issues() {\n    local root=\"${1:-.}\"\n    local label=\"${2:-claude-ready}\"\n\n    local multi_json\n    multi_json=$(detect_multi_repo \"$root\")\n    local detected\n    detected=$(echo \"$multi_json\" | grep -o '\"detected\": *true' || echo \"\")\n\n    if [[ -z \"$detected\" ]]; then\n        gh issue list --label \"$label\" --state open --json number,title,body,labels,milestone 2>/dev/null || echo \"[]\"\n        return\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "33", "text": "if [[ -z \"$detected\" ]]; then\n        gh issue list --label \"$label\" --state open --json number,title,body,labels,milestone 2>/dev/null || echo \"[]\"\n        return\n    fi\n\n    echo \"{\"\n    echo '  \"aggregated\": true,'\n    echo '  \"repos\": ['\n\n    local current_name\n    current_name=$(basename \"$(realpath \"$root\" 2>/dev/null || echo \"$root\")\")\n    local current_issues\n    current_issues=$(gh issue list --label \"$label\" --state open --json number,title,body,labels 2>/dev/null || echo \"[]\")\n\n    echo \"    {\"\n    echo \"      \\\"repo\\\": \\\"$current_name\\\",\"\n    echo \"      \\\"path\\\": \\\"$root\\\",\"\n    echo \"      \\\"issues\\\": $current_issues\"\n    echo \"    }\"\n\n    echo \"  ],\"\n    echo \"  \\\"dependencies\\\": $(detect_cross_repo_dependencies \"$root\")\"\n    echo \"}\"\n}\n\n# Detect cross-repo dependencies\ndetect_cross_repo_dependencies() {\n    local root=\"${1:-.}\"\n    local deps=()\n\n    # Get multi-repo info\n    local multi_json\n    multi_json=$(detect_multi_repo \"$root\")\n\n    if ! echo \"$multi_json\" | grep -q '\"detected\": true'; then\n        echo \"[]\"\n        return 0\n    fi\n\n    local parent_dir\n    parent_dir=$(dirname \"$(realpath \"$root\" 2>/dev/null || echo \"$root\")\")\n    local current_name\n    current_name=$(basename \"$(realpath \"$root\" 2>/dev/null || echo \"$root\")\")", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "34", "text": "# Check package.json for local dependencies\n    if [[ -f \"$root/package.json\" ]]; then\n        # Look for file: or link: dependencies pointing to siblings\n        local file_deps\n        file_deps=$(grep -oE '\"(file|link):\\.\\./[^\"]+' \"$root/package.json\" 2>/dev/null | sed 's/\"//g' || echo \"\")\n        for dep in $file_deps; do\n            local dep_path\n            dep_path=$(echo \"$dep\" | sed 's/^(file|link)://')\n            local dep_name\n            dep_name=$(basename \"$dep_path\")\n            deps+=(\"{\\\"from\\\": \\\"$current_name\\\", \\\"to\\\": \\\"$dep_name\\\", \\\"type\\\": \\\"npm-local\\\"}\")\n        done\n\n        # Look for workspace references\n        local workspace_deps\n        workspace_deps=$(grep -oE '\"workspace:\\*\"' \"$root/package.json\" 2>/dev/null || echo \"\")\n        # This indicates pnpm workspace deps - would need to parse further\n    fi\n\n    # Check for git submodules\n    if [[ -f \"$root/.gitmodules\" ]]; then\n        local submodules\n        submodules=$(grep 'path = ' \"$root/.gitmodules\" | sed 's/.*path = //' || echo \"\")\n        for submod in $submodules; do\n            deps+=(\"{\\\"from\\\": \\\"$current_name\\\", \\\"to\\\": \\\"$submod\\\", \\\"type\\\": \\\"git-submodule\\\"}\")\n        done\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "35", "text": "# Check for imports/references to sibling paths in code\n    # Look for common patterns like \"../sibling-repo\" in imports\n    local sibling_imports\n    sibling_imports=$(grep -rhoE \"from ['\\\"]\\\\.\\\\./(\\\\w+)\" \"$root/src\" \"$root/lib\" \"$root/app\" 2>/dev/null | sort -u | sed \"s/from ['\\\"]\\\\.\\\\.\\\\///\" || echo \"\")\n    for imp in $sibling_imports; do\n        if [[ -d \"$parent_dir/$imp\" ]]; then\n            deps+=(\"{\\\"from\\\": \\\"$current_name\\\", \\\"to\\\": \\\"$imp\\\", \\\"type\\\": \\\"import\\\"}\")\n        fi\n    done\n\n    # Output as JSON array\n    if [[ ${#deps[@]} -eq 0 ]]; then\n        echo \"[]\"\n    else\n        echo \"[\"\n        local first=true\n        for dep in \"${deps[@]}\"; do\n            if ! $first; then echo \",\"; fi\n            first=false\n            echo \"    $dep\"\n        done\n        echo \"  ]\"\n    fi\n}\n\n# Create multi-repo config\ncreate_multi_repo_config() {\n    local root=\"${1:-.}\"\n    local config_dir=\"$root/.claw\"\n\n    mkdir -p \"$config_dir\"\n\n    cat > \"$config_dir/multi-repo.json\" << 'EOF'\n{\n    \"detected\": true,\n    \"repos\": [],\n    \"primary\": \"\"\n}\nEOF\n\n    echo \"Created $config_dir/multi-repo.json\"\n}\n\n# Print detection summary\nprint_detection_summary() {\n    local dir=\"${1:-.}\"\n    local type\n    type=$(detect_project_type \"$dir\")\n    local agents\n    agents=$(get_agents_for_type \"$type\")\n\n    echo \"Project Type: $type\"\n    echo \"Recommended Agents: $agents\"\n\n    local packages\n    packages=$(detect_monorepo_packages \"$dir\")\n    local pkg_count\n    pkg_count=$(echo \"$packages\" | wc -l | tr -d ' ')", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "36", "text": "local packages\n    packages=$(detect_monorepo_packages \"$dir\")\n    local pkg_count\n    pkg_count=$(echo \"$packages\" | wc -l | tr -d ' ')\n\n    if [[ \"$pkg_count\" -gt 1 ]]; then\n        echo \"Packages: $pkg_count\"\n        echo \"$packages\" | while read -r pkg; do\n            local pkg_type\n            pkg_type=$(detect_project_type \"$pkg\")\n            echo \"  - $(basename \"$pkg\"): $pkg_type\"\n        done\n    fi\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/detect-project.sh", "file_name": "detect-project.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "37", "text": "#!/usr/bin/env bash\n#\n# files.sh - File operation functions\n#\n\n# Arrays to track operations\ndeclare -a MANAGED_FILES=()\ndeclare -a CREATED_FILES=()\ndeclare -a UPDATED_FILES=()\ndeclare -a SKIPPED_FILES=()\ndeclare -a CONFLICT_FILES=()\n\n# Reset tracking arrays\nreset_tracking() {\n    MANAGED_FILES=()\n    CREATED_FILES=()\n    UPDATED_FILES=()\n    SKIPPED_FILES=()\n    CONFLICT_FILES=()\n}\n\n# Create or update a managed file\n# Usage: create_managed_file <target> <filepath> <content> <description> <force> <dry_run>\ncreate_managed_file() {\n    local target=\"$1\"\n    local filepath=\"$2\"\n    local content=\"$3\"\n    local description=\"${4:-}\"\n    local force=\"${5:-false}\"\n    local dry_run=\"${6:-false}\"\n\n    local fullpath=\"${target}/${filepath}\"\n    local dir=$(dirname \"$fullpath\")\n    # Calculate checksum with trailing newline to match file format\n    local new_checksum=$(printf '%s\\n' \"$content\" | shasum -a 256 | cut -d' ' -f1)\n\n    # Track as managed\n    MANAGED_FILES+=(\"${filepath}:${new_checksum}\")\n\n    # Check current state\n    if [[ ! -f \"$fullpath\" ]]; then\n        # New file\n        if $dry_run; then\n            echo -e \"  ${GREEN}[NEW]${NC} $filepath ${description:+($description)}\"\n            CREATED_FILES+=(\"$filepath\")\n        else\n            mkdir -p \"$dir\"\n            printf '%s\\n' \"$content\" > \"$fullpath\"\n            echo -e \"  ${GREEN}✓ Created:${NC} $filepath ${description:+($description)}\"\n            CREATED_FILES+=(\"$filepath\")\n        fi\n    elif $force; then\n        # Force overwrite\n        if $dry_run;", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/files.sh", "file_name": "files.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "38", "text": "then\n        # Force overwrite\n        if $dry_run; then\n            echo -e \"  ${YELLOW}[FORCE]${NC} $filepath\"\n            UPDATED_FILES+=(\"$filepath\")\n        else\n            printf '%s\\n' \"$content\" > \"$fullpath\"\n            echo -e \"  ${YELLOW}↻ Forced:${NC} $filepath\"\n            UPDATED_FILES+=(\"$filepath\")\n        fi\n    elif is_file_modified \"$target\" \"$filepath\"; then\n        # User modified - skip unless force\n        if $dry_run; then\n            echo -e \"  ${MAGENTA}[MODIFIED]${NC} $filepath (use --force to overwrite)\"\n            CONFLICT_FILES+=(\"$filepath\")\n        else\n            echo -e \"  ${MAGENTA}⚠ Skipped:${NC} $filepath (locally modified)\"\n            SKIPPED_FILES+=(\"$filepath\")\n        fi\n    else\n        # Check if content changed\n        local current_checksum=$(calc_checksum \"$fullpath\")\n        if [[ \"$current_checksum\" != \"$new_checksum\" ]]; then\n            if $dry_run; then\n                echo -e \"  ${CYAN}[UPDATE]${NC} $filepath\"\n                UPDATED_FILES+=(\"$filepath\")\n            else\n                printf '%s\\n' \"$content\" > \"$fullpath\"\n                echo -e \"  ${CYAN}↑ Updated:${NC} $filepath\"\n                UPDATED_FILES+=(\"$filepath\")\n            fi\n        else\n            # No change needed - only show in check mode\n            if $dry_run; then\n                echo -e \"  ${GREEN}[OK]${NC} $filepath\"\n            fi\n        fi\n    fi\n}\n\n# Print summary of operations\nprint_summary() {\n    local version=\"$1\"\n    local check_only=\"${2:-false}\"\n    local dry_run=\"${3:-false}\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/files.sh", "file_name": "files.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "39", "text": "# Print summary of operations\nprint_summary() {\n    local version=\"$1\"\n    local check_only=\"${2:-false}\"\n    local dry_run=\"${3:-false}\"\n\n    echo \"\"\n    echo -e \"${GREEN}╔════════════════════════════════════════════════════════════╗${NC}\"\n    if $check_only; then\n        echo -e \"${GREEN}║       Check Complete                                       ║${NC}\"\n    elif [[ ${#CREATED_FILES[@]} -gt 0 ]] || [[ ${#UPDATED_FILES[@]} -gt 0 ]]; then\n        echo -e \"${GREEN}║       Setup Complete!                                      ║${NC}\"\n    else\n        echo -e \"${GREEN}║       Already Up to Date                                   ║${NC}\"\n    fi\n    echo -e \"${GREEN}╚════════════════════════════════════════════════════════════╝${NC}\"\n    echo \"\"\n\n    if [[ ${#CREATED_FILES[@]} -gt 0 ]]; then\n        echo -e \"  ${GREEN}Created:${NC}   ${#CREATED_FILES[@]} files\"\n    fi\n    if [[ ${#UPDATED_FILES[@]} -gt 0 ]]; then\n        echo -e \"  ${CYAN}Updated:${NC}   ${#UPDATED_FILES[@]} files\"\n    fi\n    if [[ ${#SKIPPED_FILES[@]} -gt 0 ]]; then\n        echo -e \"  ${MAGENTA}Skipped:${NC}   ${#SKIPPED_FILES[@]} files (locally modified)\"\n    fi\n    if [[ ${#CONFLICT_FILES[@]} -gt 0 ]]; then\n        echo -e \"  ${MAGENTA}Conflicts:${NC} ${#CONFLICT_FILES[@]} files (use --force to overwrite)\"\n    fi\n\n    echo \"\"\n    echo -e \"Version: ${CYAN}v${version}${NC}\"\n    echo \"\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/files.sh", "file_name": "files.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "40", "text": "echo \"\"\n    echo -e \"Version: ${CYAN}v${version}${NC}\"\n    echo \"\"\n\n    if ! $check_only && ! $dry_run; then\n        if [[ ${#SKIPPED_FILES[@]} -gt 0 ]]; then\n            echo -e \"${YELLOW}Note:${NC} Some files were skipped because you modified them.\"\n            echo -e \"      Use ${CYAN}--force${NC} to overwrite all files.\"\n            echo \"\"\n        fi\n\n        echo -e \"Next steps:\"\n        echo -e \"  1. ${YELLOW}Edit CLAUDE.md${NC} to customize for your project\"\n        echo -e \"  2. ${YELLOW}Review .claude/rules/${NC} and modify as needed\"\n        echo -e \"  3. ${YELLOW}Run 'claude-setup check'${NC} to see future updates\"\n        echo \"\"\n    fi\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/files.sh", "file_name": "files.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "41", "text": "#!/usr/bin/env bash\n# leann-setup.sh - LEANN MCP server integration for claw\n\nset -euo pipefail\n\n# Check if LEANN is installed\nis_leann_installed() {\n    command -v leann &>/dev/null\n}\n\n# Check if uv is installed\nis_uv_installed() {\n    command -v uv &>/dev/null\n}\n\n# Install LEANN (tries pipx, uv, then pip)\ninstall_leann() {\n    echo \"Installing LEANN...\"\n\n    # Try pipx first (isolated install)\n    if command -v pipx &>/dev/null; then\n        echo \"Using pipx...\"\n        pipx install leann && echo \"LEANN installed successfully. Restart Claude Code to use it.\" && return 0\n    fi\n\n    # Try uv next\n    if command -v uv &>/dev/null; then\n        echo \"Using uv...\"\n        uv tool install leann && echo \"LEANN installed successfully. Restart Claude Code to use it.\" && return 0\n    fi\n\n    # Fall back to pip\n    if command -v pip &>/dev/null; then\n        echo \"Using pip...\"\n        pip install --user leann && echo \"LEANN installed successfully. Restart Claude Code to use it.\" && return 0\n    fi\n\n    echo \"Error: No package manager found. Install one of: pipx, uv, or pip\"\n    return 1\n}\n\n# Get default index name for current directory\nget_index_name() {\n    local dir=\"${1:-.}\"\n    local abs_dir\n    abs_dir=$(cd \"$dir\" && pwd)\n    # Use directory name as index name, sanitized\n    basename \"$abs_dir\" | tr '[:upper:]' '[:lower:]' | tr -c '[:alnum:]-' '-' | sed 's/-*$//'\n}\n\n# Check if index exists\nindex_exists() {\n    local index_name=\"$1\"\n    is_leann_installed && leann list 2>/dev/null | grep -q \"^${index_name}$\"\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/leann-setup.sh", "file_name": "leann-setup.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "42", "text": "# Check if index exists\nindex_exists() {\n    local index_name=\"$1\"\n    is_leann_installed && leann list 2>/dev/null | grep -q \"^${index_name}$\"\n}\n\n# Setup LEANN as MCP server\nsetup_leann_mcp() {\n    local project_name=\"${1:-default}\"\n\n    if ! is_leann_installed; then\n        echo \"Error: LEANN is not installed\"\n        echo \"Run: claw leann install\"\n        return 1\n    fi\n\n    echo \"Setting up LEANN MCP server for project: $project_name\"\n    # This would typically involve:\n    # 1. Creating a LEANN config\n    # 2. Registering with claude CLI\n    echo \"MCP setup not yet implemented\"\n}\n\n# Build LEANN index for current project\nbuild_index() {\n    local index_name=\"${1:-$(get_index_name)}\"\n    local docs_path=\"${2:-.}\"\n\n    if ! is_leann_installed; then\n        echo \"LEANN is not installed.\"\n        read -p \"Install it now? [Y/n] \" -n 1 -r\n        echo\n        if [[ ! $REPLY =~ ^[Nn]$ ]]; then\n            install_leann || return 1\n            echo \"\"\n            echo \"Run 'claw leann build' again after restarting Claude Code.\"\n            return 0\n        else\n            echo \"Skipped. Install manually with: claw leann install\"\n            return 1\n        fi\n    fi\n\n    echo \"Building LEANN index: $index_name\"\n    leann build \"$index_name\" --docs \"$docs_path\"\n}\n\n# Search LEANN index (auto-creates if missing)\nsearch_index() {\n    local query=\"${1:-}\"\n    local index_name=\"${2:-$(get_index_name)}\"\n\n    if [[ -z \"$query\" ]]; then\n        echo \"Usage: claw leann search <query> [index-name]\"\n        return 1\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/leann-setup.sh", "file_name": "leann-setup.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "43", "text": "if [[ -z \"$query\" ]]; then\n        echo \"Usage: claw leann search <query> [index-name]\"\n        return 1\n    fi\n\n    # Check if LEANN installed\n    if ! is_leann_installed; then\n        echo \"LEANN not installed. Using fallback grep search...\"\n        fallback_search \"$query\"\n        return 0\n    fi\n\n    # Auto-create index if missing\n    if ! index_exists \"$index_name\"; then\n        echo \"Index '$index_name' not found. Building...\"\n        leann build \"$index_name\" --docs . || {\n            echo \"Index build failed. Using fallback grep search...\"\n            fallback_search \"$query\"\n            return 0\n        }\n        echo \"\"\n    fi\n\n    leann search \"$index_name\" \"$query\"\n}\n\n# Show LEANN status\nleann_status() {\n    echo \"LEANN Status\"\n    echo \"============\"\n    echo \"\"\n\n    if is_leann_installed; then\n        echo \"Installed: Yes\"\n        echo \"Path: $(command -v leann)\"\n        echo \"\"\n        echo \"Indexes:\"\n        leann list 2>/dev/null | head -20 || echo \"  (none)\"\n    else\n        echo \"Installed: No\"\n        echo \"\"\n        echo \"To install: claw leann install\"\n        echo \"  (or run 'claw leann build' to auto-install)\"\n        echo \"\"\n        echo \"Package managers available:\"\n        command -v pipx &>/dev/null && echo \"  - pipx (preferred)\"\n        command -v uv &>/dev/null && echo \"  - uv\"\n        command -v pip &>/dev/null && echo \"  - pip\"\n        ! command -v pipx &>/dev/null && ! command -v uv &>/dev/null && ! command -v pip &>/dev/null && echo \"  (none found - install pipx, uv, or pip)\"\n    fi\n}\n\n# Get LEANN agent instructions to inject into CLAUDE.md\nget_leann_agent_instructions() {\n    cat << 'INSTRUCTIONS'\n## Codebase Search with LEANN", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/leann-setup.sh", "file_name": "leann-setup.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "44", "text": "# Get LEANN agent instructions to inject into CLAUDE.md\nget_leann_agent_instructions() {\n    cat << 'INSTRUCTIONS'\n## Codebase Search with LEANN\n\nThis project uses LEANN for semantic codebase search. When you need to find code:\n\n1. **Use the /search command** - This runs LEANN semantic search\n2. **Be specific** - Describe what you're looking for semantically\n3. **Iterate** - If results aren't helpful, refine your query\n\nExample searches:\n- \"authentication middleware\" - Find auth-related code\n- \"database connection handling\" - Find DB connection code\n- \"error handling patterns\" - Find error handling examples\n\nThe search returns the most relevant code snippets with file paths.\nINSTRUCTIONS\n}\n\n# Inject LEANN instructions into a file\ninject_leann_instructions() {\n    local target_file=\"$1\"\n\n    if [[ ! -f \"$target_file\" ]]; then\n        echo \"Error: Target file does not exist: $target_file\"\n        return 1\n    fi\n\n    local instructions\n    instructions=$(get_leann_agent_instructions)\n\n    # Append to the file\n    echo \"\" >> \"$target_file\"\n    echo \"$instructions\" >> \"$target_file\"\n\n    echo \"LEANN instructions added to $target_file\"\n}\n\n# Main command router for leann subcommand\nleann_cmd() {\n    local cmd=\"${1:-status}\"\n    shift || true", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/leann-setup.sh", "file_name": "leann-setup.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "45", "text": "echo \"LEANN instructions added to $target_file\"\n}\n\n# Main command router for leann subcommand\nleann_cmd() {\n    local cmd=\"${1:-status}\"\n    shift || true\n\n    case \"$cmd\" in\n        install)\n            install_leann\n            ;;\n        mcp)\n            setup_leann_mcp \"$@\"\n            ;;\n        index|build)\n            build_index \"$@\"\n            ;;\n        search)\n            search_index \"$@\"\n            ;;\n        status)\n            leann_status\n            ;;\n        help)\n            echo \"LEANN Commands\"\n            echo \"==============\"\n            echo \"\"\n            echo \"  claw leann install  - Install LEANN via uv\"\n            echo \"  claw leann mcp      - Setup LEANN MCP server\"\n            echo \"  claw leann build    - Build search index\"\n            echo \"  claw leann search   - Search the index\"\n            echo \"  claw leann status   - Show LEANN status\"\n            ;;\n        *)\n            echo \"Unknown LEANN command: $cmd\"\n            return 1\n            ;;\n    esac\n}\n\n# Fallback search when LEANN is not available\nfallback_search() {\n    local query=\"$1\"\n    local path=\"${2:-.}\"\n\n    # Use ripgrep if available, otherwise grep\n    if command -v rg &>/dev/null; then\n        rg --color=never -l \"$query\" \"$path\" 2>/dev/null || true\n    else\n        grep -rl \"$query\" \"$path\" 2>/dev/null || true\n    fi\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/leann-setup.sh", "file_name": "leann-setup.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "46", "text": "#!/usr/bin/env bash\n#\n# manifest.sh - Manifest management functions\n#\n\n# Get installed version from manifest\nget_installed_version() {\n    local target=\"$1\"\n    local manifest=\"${target}/.claude/manifest.json\"\n\n    if [[ -f \"$manifest\" ]]; then\n        grep -o '\"version\": *\"[^\"]*\"' \"$manifest\" | cut -d'\"' -f4\n    else\n        echo \"0.0.0\"\n    fi\n}\n\n# Get installed preset from manifest\nget_installed_preset() {\n    local target=\"$1\"\n    local manifest=\"${target}/.claude/manifest.json\"\n\n    if [[ -f \"$manifest\" ]]; then\n        grep -o '\"preset\": *\"[^\"]*\"' \"$manifest\" | cut -d'\"' -f4 || echo \"full\"\n    else\n        echo \"full\"\n    fi\n}\n\n# Get file checksum from manifest\nget_manifest_checksum() {\n    local target=\"$1\"\n    local filepath=\"$2\"\n    local manifest=\"${target}/.claude/manifest.json\"\n\n    if [[ -f \"$manifest\" ]]; then\n        # Extract checksum from the line containing this file path\n        grep \"\\\"path\\\": \\\"$filepath\\\"\" \"$manifest\" | grep -o '\"checksum\": \"[^\"]*\"' | cut -d'\"' -f4 || echo \"\"\n    else\n        echo \"\"\n    fi\n}\n\n# Calculate file checksum\ncalc_checksum() {\n    local filepath=\"$1\"\n    if [[ -f \"$filepath\" ]]; then\n        shasum -a 256 \"$filepath\" | cut -d' ' -f1\n    else\n        echo \"\"\n    fi\n}\n\n# Check if file was modified by user\nis_file_modified() {\n    local target=\"$1\"\n    local filepath=\"$2\"\n    local fullpath=\"${target}/${filepath}\"\n\n    if [[ ! -f \"$fullpath\" ]]; then\n        return 1  # File doesn't exist, not modified\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/manifest.sh", "file_name": "manifest.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "47", "text": "if [[ ! -f \"$fullpath\" ]]; then\n        return 1  # File doesn't exist, not modified\n    fi\n\n    local manifest_checksum=$(get_manifest_checksum \"$target\" \"$filepath\")\n    if [[ -z \"$manifest_checksum\" ]]; then\n        return 0  # Not in manifest, treat as modified (user-created)\n    fi\n\n    local current_checksum=$(calc_checksum \"$fullpath\")\n    [[ \"$manifest_checksum\" != \"$current_checksum\" ]]\n}\n\n# Write manifest file\nwrite_manifest() {\n    local target=\"$1\"\n    local version=\"$2\"\n    local preset=\"$3\"\n    shift 3\n    local files=(\"$@\")\n\n    local manifest=\"${target}/.claude/manifest.json\"\n    mkdir -p \"${target}/.claude\"\n\n    cat > \"$manifest\" << EOF\n{\n  \"version\": \"$version\",\n  \"preset\": \"$preset\",\n  \"generated\": \"$(date -u '+%Y-%m-%dT%H:%M:%SZ')\",\n  \"generator\": \"claude-setup\",\n  \"files\": [\nEOF\n\n    local first=true\n    for entry in \"${files[@]}\"; do\n        local path=${entry%%:*}\n        local checksum=${entry#*:}\n\n        if $first; then\n            first=false\n        else\n            echo \",\" >> \"$manifest\"\n        fi\n\n        printf '    {\"path\": \"%s\", \"checksum\": \"%s\"}' \"$path\" \"$checksum\" >> \"$manifest\"\n    done\n\n    cat >> \"$manifest\" << 'EOF'\n\n  ]\n}\nEOF\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/manifest.sh", "file_name": "manifest.sh", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "48", "text": "#!/usr/bin/env bash\n#\n# templates.sh - Configuration templates and installation logic\n#\n\n# Template directory - check homebrew layout first, then fallback to dev layout\nif [[ -d \"${LIB_DIR}/templates\" ]]; then\n    TEMPLATE_DIR=\"${LIB_DIR}/templates\"\nelse\n    TEMPLATE_DIR=\"${LIB_DIR}/../templates\"\nfi\n\n# Core rules included in most presets (not slim)\nCORE_RULES=(\n    \"core-constraints.md\"\n    \"git-workflow.md\"\n    \"security.md\"\n)\n\n# Rules by preset (in addition to core)\ndeclare -A PRESET_RULES\nPRESET_RULES[full]=\"daily-workflow.md lead-reasoning.md operating-modes.md setup-sync.md testing.md efficient-search.md\"\nPRESET_RULES[base]=\"\"\nPRESET_RULES[hardhat]=\"hardhat.md efficient-search.md\"\nPRESET_RULES[unity]=\"unity.md efficient-search.md\"\nPRESET_RULES[react]=\"react.md efficient-search.md\"\nPRESET_RULES[slim]=\"slim-rules.md\"  # Single consolidated file, no core rules\n\n# Install configuration to target directory\ninstall_config() {\n    local target=\"$1\"\n    local force=\"${2:-false}\"\n    local minimal=\"${3:-false}\"\n    local dry_run=\"${4:-false}\"\n    local preset=\"${5:-full}\"\n\n    reset_tracking\n\n    local installed_version=$(get_installed_version \"$target\")\n\n    if [[ \"$installed_version\" != \"0.0.0\" ]]; then\n        echo -e \"Installed: ${CYAN}v${installed_version}${NC} → Available: ${GREEN}v${VERSION}${NC}\"\n        echo \"\"\n    fi\n\n    echo -e \"${YELLOW}Processing files...${NC}\"\n    echo \"\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "49", "text": "echo -e \"${YELLOW}Processing files...${NC}\"\n    echo \"\"\n\n    # Install CLAUDE.md only if it doesn't exist (skip for non-full presets)\n    if [[ \"$preset\" == \"full\" ]]; then\n        if [[ ! -f \"${target}/CLAUDE.md\" ]]; then\n            echo -e \"${BLUE}Creating CLAUDE.md...${NC}\"\n            local claude_md_content=$(cat \"${TEMPLATE_DIR}/CLAUDE.md\")\n            create_managed_file \"$target\" \"CLAUDE.md\" \"$claude_md_content\" \"Main instructions\" \"$force\" \"$dry_run\"\n        else\n            echo -e \"${BLUE}CLAUDE.md exists - skipping (customize as needed)${NC}\"\n        fi\n    fi\n\n    echo \"\"\n    echo -e \"${BLUE}Processing managed files...${NC}\"\n\n    # Core files (always installed)\n    install_template \"$target\" \".claude/settings.json\" \"Settings\" \"$force\" \"$dry_run\"\n\n    # Hooks (only for full preset)\n    if [[ \"$preset\" == \"full\" ]]; then\n        for file in \"${TEMPLATE_DIR}/.claude/hooks/\"*.sh; do\n            if [[ -f \"$file\" ]]; then\n                local name=$(basename \"$file\")\n                install_template \"$target\" \".claude/hooks/${name}\" \"Hook\" \"$force\" \"$dry_run\"\n            fi\n        done\n    fi\n\n    # Core rules (skip for slim preset which uses consolidated rules)\n    if [[ \"$preset\" != \"slim\" ]]; then\n        for rule in \"${CORE_RULES[@]}\"; do\n            if [[ -f \"${TEMPLATE_DIR}/.claude/rules/${rule}\" ]]; then\n                install_template \"$target\" \".claude/rules/${rule}\" \"Rule\" \"$force\" \"$dry_run\"\n            fi\n        done\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "50", "text": "# Preset-specific rules\n    local preset_rules=\"${PRESET_RULES[$preset]}\"\n    for rule in $preset_rules; do\n        if [[ -f \"${TEMPLATE_DIR}/.claude/rules/${rule}\" ]]; then\n            install_template \"$target\" \".claude/rules/${rule}\" \"Rule\" \"$force\" \"$dry_run\"\n        elif [[ -f \"${TEMPLATE_DIR}/.claude/presets/${preset}/${rule}\" ]]; then\n            install_preset_template \"$target\" \"$preset\" \"$rule\" \"Rule\" \"$force\" \"$dry_run\"\n        fi\n    done\n\n    # Commands and Skills (skip for base/slim presets, skip if --minimal)\n    if [[ \"$preset\" != \"base\" ]] && [[ \"$preset\" != \"slim\" ]] && ! $minimal; then\n        # Commands\n        for file in \"${TEMPLATE_DIR}/.claude/commands/\"*.md; do\n            if [[ -f \"$file\" ]]; then\n                local name=$(basename \"$file\")\n                install_template \"$target\" \".claude/commands/${name}\" \"Command\" \"$force\" \"$dry_run\"\n            fi\n        done\n\n        # Skills (use for loop to avoid subshell from pipe)\n        for file in $(find \"${TEMPLATE_DIR}/.claude/skills\" -name \"*.md\" -type f 2>/dev/null); do\n            local relpath=\"${file#${TEMPLATE_DIR}/}\"\n            install_template \"$target\" \"$relpath\" \"Skill\" \"$force\" \"$dry_run\"\n        done\n\n        # Agents\n        for file in \"${TEMPLATE_DIR}/.claude/agents/\"*.md; do\n            if [[ -f \"$file\" ]]; then\n                local name=$(basename \"$file\")\n                install_template \"$target\" \".claude/agents/${name}\" \"Agent\" \"$force\" \"$dry_run\"\n            fi\n        done\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "51", "text": "# Checklists (only for full preset)\n    if [[ \"$preset\" == \"full\" ]] && ! $minimal; then\n        for file in \"${TEMPLATE_DIR}/.claude/checklists/\"*.md; do\n            if [[ -f \"$file\" ]]; then\n                local name=$(basename \"$file\")\n                install_template \"$target\" \".claude/checklists/${name}\" \"Checklist\" \"$force\" \"$dry_run\"\n            fi\n        done\n    fi\n\n    # Create directories\n    echo \"\"\n    echo -e \"${BLUE}Creating directories...${NC}\"\n    if ! $dry_run; then\n        mkdir -p \"${target}/.claude/daily\"\n        touch \"${target}/.claude/daily/.gitkeep\"\n        echo -e \"  ${GREEN}✓${NC} Created: .claude/daily/\"\n    fi\n\n    # Make hooks executable\n    if [[ \"$preset\" == \"full\" ]]; then\n        echo \"\"\n        echo -e \"${BLUE}Making hooks executable...${NC}\"\n        if ! $dry_run; then\n            chmod +x \"${target}\"/.claude/hooks/*.sh 2>/dev/null || true\n            echo -e \"  ${GREEN}✓${NC} Hooks are now executable\"\n        fi\n    fi\n\n    # Write manifest\n    if ! $dry_run; then\n        write_manifest \"$target\" \"$VERSION\" \"$preset\" \"${MANAGED_FILES[@]}\"\n    fi\n\n    # Print summary\n    print_summary \"$VERSION\" \"$dry_run\" \"$dry_run\"\n}\n\n# Install a single template file\ninstall_template() {\n    local target=\"$1\"\n    local filepath=\"$2\"\n    local description=\"$3\"\n    local force=\"$4\"\n    local dry_run=\"$5\"\n\n    local template_path=\"${TEMPLATE_DIR}/${filepath}\"\n\n    if [[ ! -f \"$template_path\" ]]; then\n        return\n    fi\n\n    local content=$(cat \"$template_path\")\n    create_managed_file \"$target\" \"$filepath\" \"$content\" \"$description\" \"$force\" \"$dry_run\"\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "52", "text": "local content=$(cat \"$template_path\")\n    create_managed_file \"$target\" \"$filepath\" \"$content\" \"$description\" \"$force\" \"$dry_run\"\n}\n\n# Install a preset-specific template file\ninstall_preset_template() {\n    local target=\"$1\"\n    local preset=\"$2\"\n    local filename=\"$3\"\n    local description=\"$4\"\n    local force=\"$5\"\n    local dry_run=\"$6\"\n\n    local template_path=\"${TEMPLATE_DIR}/.claude/presets/${preset}/${filename}\"\n\n    if [[ ! -f \"$template_path\" ]]; then\n        return\n    fi\n\n    local content=$(cat \"$template_path\")\n    create_managed_file \"$target\" \".claude/rules/${filename}\" \"$content\" \"$description\" \"$force\" \"$dry_run\"\n}\n\n# Export configuration from a source repo\nexport_config() {\n    local source=\"$1\"\n    local output_dir=\"${TEMPLATE_DIR}\"\n\n    echo -e \"${YELLOW}Exporting configuration...${NC}\"\n    echo \"\"\n\n    # Create template directories\n    mkdir -p \"${output_dir}/.claude/\"{hooks,rules,commands,checklists}\n    mkdir -p \"${output_dir}/.claude/skills/daily-workflow\"\n\n    # Copy CLAUDE.md template (or create generic)\n    if [[ -f \"${source}/CLAUDE.md\" ]]; then\n        echo -e \"  ${GREEN}✓${NC} CLAUDE.md\"\n        cp \"${source}/CLAUDE.md\" \"${output_dir}/CLAUDE.md\"\n    fi\n\n    # Copy settings.json\n    if [[ -f \"${source}/.claude/settings.json\" ]]; then\n        echo -e \"  ${GREEN}✓${NC} .claude/settings.json\"\n        cp \"${source}/.claude/settings.json\" \"${output_dir}/.claude/settings.json\"\n    fi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "53", "text": "# Copy hooks\n    for file in \"${source}/.claude/hooks/\"*.sh; do\n        if [[ -f \"$file\" ]]; then\n            local name=$(basename \"$file\")\n            echo -e \"  ${GREEN}✓${NC} .claude/hooks/${name}\"\n            cp \"$file\" \"${output_dir}/.claude/hooks/${name}\"\n        fi\n    done\n\n    # Copy rules\n    for file in \"${source}/.claude/rules/\"*.md; do\n        if [[ -f \"$file\" ]]; then\n            local name=$(basename \"$file\")\n            echo -e \"  ${GREEN}✓${NC} .claude/rules/${name}\"\n            cp \"$file\" \"${output_dir}/.claude/rules/${name}\"\n        fi\n    done\n\n    # Copy commands\n    for file in \"${source}/.claude/commands/\"*.md; do\n        if [[ -f \"$file\" ]]; then\n            local name=$(basename \"$file\")\n            echo -e \"  ${GREEN}✓${NC} .claude/commands/${name}\"\n            cp \"$file\" \"${output_dir}/.claude/commands/${name}\"\n        fi\n    done\n\n    # Copy skills\n    find \"${source}/.claude/skills\" -name \"*.md\" -type f 2>/dev/null | while read file; do\n        local relpath=\"${file#${source}/}\"\n        local dest_dir=$(dirname \"${output_dir}/${relpath}\")\n        mkdir -p \"$dest_dir\"\n        echo -e \"  ${GREEN}✓${NC} ${relpath}\"\n        cp \"$file\" \"${output_dir}/${relpath}\"\n    done\n\n    # Copy checklists\n    for file in \"${source}/.claude/checklists/\"*.md; do\n        if [[ -f \"$file\" ]]; then\n            local name=$(basename \"$file\")\n            echo -e \"  ${GREEN}✓${NC} .claude/checklists/${name}\"\n            cp \"$file\" \"${output_dir}/.claude/checklists/${name}\"\n        fi\n    done", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "54", "text": "echo \"\"\n    echo -e \"${GREEN}Export complete!${NC}\"\n    echo -e \"Templates saved to: ${CYAN}${output_dir}${NC}\"\n    echo \"\"\n    echo \"To update the installed version, bump the VERSION in bin/claude-setup\"\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/lib/templates.sh", "file_name": "templates.sh", "creation_date": "2026-01-02", "last_modified_date": "2026-01-02"}}
{"id": "55", "text": "#!/usr/bin/env bash\n#\n# release.sh - Create a new release of claw\n#\n# Usage:\n#   ./scripts/release.sh <version>\n#   ./scripts/release.sh 0.4.1\n#\n# This script will:\n#   1. Update VERSION in bin/claw\n#   2. Create a git tag\n#   3. Push the tag (triggering CI release)\n#\n\nset -euo pipefail\n\n# Colors\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m'\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nPROJECT_ROOT=\"$(cd \"$SCRIPT_DIR/..\" && pwd)\"\n\n# Check arguments\nif [[ $# -ne 1 ]]; then\n    echo \"Usage: $0 <version>\"\n    echo \"Example: $0 0.4.1\"\n    exit 1\nfi\n\nVERSION=\"$1\"\nTAG=\"v${VERSION}\"\n\n# Validate version format\nif ! [[ \"$VERSION\" =~ ^[0-9]+\\.[0-9]+\\.[0-9]+$ ]]; then\n    echo -e \"${RED}Error: Invalid version format${NC}\"\n    echo \"Version must be in format: X.Y.Z (e.g., 0.4.1)\"\n    exit 1\nfi\n\n# Check if we're on main branch\nCURRENT_BRANCH=$(git -C \"$PROJECT_ROOT\" branch --show-current)\nif [[ \"$CURRENT_BRANCH\" != \"main\" ]]; then\n    echo -e \"${YELLOW}Warning: Not on main branch (current: $CURRENT_BRANCH)${NC}\"\n    read -p \"Continue anyway? [y/N] \" -n 1 -r\n    echo\n    if [[ ! $REPLY =~ ^[Yy]$ ]]; then\n        exit 1\n    fi\nfi\n\n# Check for uncommitted changes\nif ! git -C \"$PROJECT_ROOT\" diff --quiet; then\n    echo -e \"${RED}Error: You have uncommitted changes${NC}\"\n    echo \"Please commit or stash them before releasing\"\n    exit 1\nfi", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/scripts/release.sh", "file_name": "release.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "56", "text": "# Check if tag already exists\nif git -C \"$PROJECT_ROOT\" tag -l \"$TAG\" | grep -q \"$TAG\"; then\n    echo -e \"${RED}Error: Tag $TAG already exists${NC}\"\n    exit 1\nfi\n\necho -e \"${GREEN}Creating release ${TAG}${NC}\"\necho \"\"\n\n# Update VERSION in bin/claw\necho \"Updating VERSION in bin/claw...\"\nsed -i '' \"s/^VERSION=\\\".*\\\"/VERSION=\\\"${VERSION}\\\"/\" \"$PROJECT_ROOT/bin/claw\"\n\n# Verify the change\nNEW_VERSION=$(grep '^VERSION=' \"$PROJECT_ROOT/bin/claw\" | cut -d'\"' -f2)\nif [[ \"$NEW_VERSION\" != \"$VERSION\" ]]; then\n    echo -e \"${RED}Error: Failed to update VERSION${NC}\"\n    exit 1\nfi\n\n# Commit the version bump\necho \"Committing version bump...\"\ngit -C \"$PROJECT_ROOT\" add bin/claw\ngit -C \"$PROJECT_ROOT\" commit --no-gpg-sign --author=\"bis-code <baicoianuioansorin@gmail.com>\" -m \"chore: bump version to ${VERSION}\"\n\n# Create annotated tag\necho \"Creating tag ${TAG}...\"\ngit -C \"$PROJECT_ROOT\" tag -a \"$TAG\" -m \"Release ${TAG}\"\n\n# Push\necho \"Pushing to origin...\"\ngit -C \"$PROJECT_ROOT\" push origin main\ngit -C \"$PROJECT_ROOT\" push origin \"$TAG\"\n\necho \"\"\necho -e \"${GREEN}✓ Release ${TAG} created and pushed!${NC}\"\necho \"\"\necho \"The GitHub Actions workflow will now:\"\necho \"  1. Run tests\"\necho \"  2. Create release tarball\"\necho \"  3. Create GitHub release\"\necho \"  4. Update homebrew-tap formula\"\necho \"\"\necho \"Monitor progress at:\"\necho \"  https://github.com/bis-code/claude-code-setup/actions\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/scripts/release.sh", "file_name": "release.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "57", "text": "# CLAUDE.md — Autonomous Engineering Agent Contract\n\n> **Audience**: Claude Code (primary), Human Tech Lead (secondary)\n> **Enforcement Level**: HARD CONSTRAINTS\n> **Detailed Rules**: See `.claude/rules/` for comprehensive guidelines\n\n---\n\n## Project Overview\n\n**[PROJECT_NAME]** is a [DESCRIPTION].\n\nClaude operates as: **Senior Engineer + QA Engineer + Product Collaborator**\n\n---\n\n## Repository Structure\n\n```\n[PROJECT_NAME]/\n├── src/                # Source code\n├── tests/              # Test files\n├── .claude/rules/      # Modular rule files\n└── docs/               # Documentation\n```\n\n---\n\n## Critical Rules (Non-Negotiable)\n\n### TDD is Mandatory\n- NEVER write production code without tests\n- NEVER ask the human to verify manually\n- Run tests, fix failures, re-run until green", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "58", "text": "Claude operates as: **Senior Engineer + QA Engineer + Product Collaborator**\n\n---\n\n## Repository Structure\n\n```\n[PROJECT_NAME]/\n├── src/                # Source code\n├── tests/              # Test files\n├── .claude/rules/      # Modular rule files\n└── docs/               # Documentation\n```\n\n---\n\n## Critical Rules (Non-Negotiable)\n\n### TDD is Mandatory\n- NEVER write production code without tests\n- NEVER ask the human to verify manually\n- Run tests, fix failures, re-run until green\n\n### Backlog = GitHub Issues\n- All backlog items MUST be GitHub issues\n- Never track future work only in .md files\n\n### Commits\n- One logical change per commit\n- Tests must be green before committing\n- Format: `<type>(<scope>): <description>`\n\n---\n\n## Session Start (Automatic)", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "59", "text": "---\n\n## Critical Rules (Non-Negotiable)\n\n### TDD is Mandatory\n- NEVER write production code without tests\n- NEVER ask the human to verify manually\n- Run tests, fix failures, re-run until green\n\n### Backlog = GitHub Issues\n- All backlog items MUST be GitHub issues\n- Never track future work only in .md files\n\n### Commits\n- One logical change per commit\n- Tests must be green before committing\n- Format: `<type>(<scope>): <description>`\n\n---\n\n## Session Start (Automatic)\n\nOn every session start or resume:\n1. Check for `.claude/project-index.json`\n2. If missing → Generate with `/index`\n3. If stale → Update with `/index --update`\n\n## Efficient Searching (Token Optimization)\n\n**Always use `/search` command** when looking for files or code:", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "60", "text": "### Commits\n- One logical change per commit\n- Tests must be green before committing\n- Format: `<type>(<scope>): <description>`\n\n---\n\n## Session Start (Automatic)\n\nOn every session start or resume:\n1. Check for `.claude/project-index.json`\n2. If missing → Generate with `/index`\n3. If stale → Update with `/index --update`\n\n## Efficient Searching (Token Optimization)\n\n**Always use `/search` command** when looking for files or code:\n\n```\n/search user authentication    # Find files/functions\n/search --files config         # Find files by name\n/search --def handleLogin      # Find function definitions\n/search --content TODO         # Find content in files\n```\n\n**Check project index first**: `.claude/project-index.json`\n- Contains entry points, key files, directory purposes\n- If missing, run `/index` to generate it", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "61", "text": "## Efficient Searching (Token Optimization)\n\n**Always use `/search` command** when looking for files or code:\n\n```\n/search user authentication    # Find files/functions\n/search --files config         # Find files by name\n/search --def handleLogin      # Find function definitions\n/search --content TODO         # Find content in files\n```\n\n**Check project index first**: `.claude/project-index.json`\n- Contains entry points, key files, directory purposes\n- If missing, run `/index` to generate it\n\n**Never use raw Glob/Grep** without consulting the index first.\n\n---\n\n## Detailed Rules\n\nSee `.claude/rules/` for comprehensive guidelines:", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "62", "text": "**Check project index first**: `.claude/project-index.json`\n- Contains entry points, key files, directory purposes\n- If missing, run `/index` to generate it\n\n**Never use raw Glob/Grep** without consulting the index first.\n\n---\n\n## Detailed Rules\n\nSee `.claude/rules/` for comprehensive guidelines:\n\n| File | Coverage |\n|------|----------|\n| `core-constraints.md` | Non-negotiable rules |\n| `testing.md` | TDD, test pyramid, E2E rules |\n| `git-workflow.md` | Commits, PRs, issue tracking |\n| `security.md` | Security & abuse prevention |\n| `lead-reasoning.md` | Decision documentation |\n| `operating-modes.md` | PLAN, IMPLEMENT, TEST, QA modes |\n| `efficient-search.md` | Search optimization, /search usage |\n\n---\n\n## Development Commands", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "63", "text": "| File | Coverage |\n|------|----------|\n| `core-constraints.md` | Non-negotiable rules |\n| `testing.md` | TDD, test pyramid, E2E rules |\n| `git-workflow.md` | Commits, PRs, issue tracking |\n| `security.md` | Security & abuse prevention |\n| `lead-reasoning.md` | Decision documentation |\n| `operating-modes.md` | PLAN, IMPLEMENT, TEST, QA modes |\n| `efficient-search.md` | Search optimization, /search usage |\n\n---\n\n## Development Commands\n\n```bash\n# Add your project-specific commands here\nnpm install         # Install dependencies\nnpm test           # Run tests\nnpm run build      # Build project\n```\n\n---\n\n## Re-Read & Drift Prevention\n\nClaude must treat this document as a **living contract**.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "64", "text": "---\n\n## Development Commands\n\n```bash\n# Add your project-specific commands here\nnpm install         # Install dependencies\nnpm test           # Run tests\nnpm run build      # Build project\n```\n\n---\n\n## Re-Read & Drift Prevention\n\nClaude must treat this document as a **living contract**.\n\n### Mandatory Re-Read Triggers\n- After completing each phase/sub-task\n- Before committing changes\n- When resuming after context switch\n\n### Acknowledgement Required\nAfter each re-read:\n```\nCLAUDE.md re-read completed — constraints re-applied.\n```\n\n---\n\n## Success Definition\n\nClaude is successful when:\n- The human trusts changes without manual validation\n- Bugs are prevented, not patched\n- Features are testable and explainable\n- The system remains stable as it grows\n\n---\n\n> *Modular rules in `.claude/rules/` provide detailed guidelines. This summary ensures core principles are always visible.*", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/templates/CLAUDE.md", "file_name": "CLAUDE.md", "creation_date": "2026-01-01", "last_modified_date": "2026-01-01"}}
{"id": "65", "text": "# Test Coverage Analysis\n\n## Current Status: 164 tests passing\n\n## Test Files\n\n| File | Tests | Focus |\n|------|-------|-------|\n| `detect_project.bats` | 14 | Project type detection unit tests |\n| `integration.bats` | 14 | CLI integration tests |\n| `project_types.bats` | 32 | All project type detection |\n| `agents.bats` | 41 | Agent prompts and roster |\n| `leann.bats` | 18 | LEANN integration |\n| `multi_repo.bats` | 16 | Multi-repo functionality |\n| `edge_cases.bats` | 20 | Error handling and edge cases |\n| `external_deps.bats` | 19 | External dependency tests (gh, LEANN, uv) |\n\n## Coverage by Module\n\n### lib/detect-project.sh", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "66", "text": "## Coverage by Module\n\n### lib/detect-project.sh\n\n| Function | Tested | Notes |\n|----------|--------|-------|\n| `detect_project_type` | ✅ Yes | All project types covered |\n| `detect_monorepo_packages` | ✅ Yes | pnpm, npm, lerna, turbo, nx, cargo |\n| `get_agents_for_type` | ✅ Yes | All project types |\n| `detect_multi_repo` | ✅ Yes | Sibling detection, config reading |\n| `fetch_multi_repo_issues` | ✅ Yes | Real gh CLI tested in external_deps.bats |\n| `detect_cross_repo_dependencies` | ✅ Yes | Returns empty array |\n| `format_multi_repo_issues_for_brainstorm` | ❌ No | UI formatting |\n| `create_multi_repo_config` | ✅ Yes | Creates config file |\n| `print_detection_summary` | ✅ Yes | Output structure |\n\n### lib/agents.sh", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "67", "text": "### lib/agents.sh\n\n| Function | Tested | Notes |\n|----------|--------|-------|\n| `get_agent_prompt` | ✅ Yes | All agents tested |\n| `get_agents_for_type` | ✅ Yes | All project types |\n| `list_agents` | ✅ Yes | Categories and agents |\n| `get_orchestrator_prompt` | ✅ Yes | Content verified |\n| `get_debate_prompt` | ✅ Yes | Agent name included |\n\n### lib/leann-setup.sh\n\n| Function | Tested | Notes |\n|----------|--------|-------|\n| `is_leann_installed` | ✅ Yes | Conditional skip |\n| `is_uv_installed` | ✅ Yes | Conditional skip |\n| `install_leann` | ✅ Yes | Tested in external_deps.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "68", "text": "### lib/leann-setup.sh\n\n| Function | Tested | Notes |\n|----------|--------|-------|\n| `is_leann_installed` | ✅ Yes | Conditional skip |\n| `is_uv_installed` | ✅ Yes | Conditional skip |\n| `install_leann` | ✅ Yes | Tested in external_deps.bats (if uv available) |\n| `setup_leann_mcp` | ❌ No | Requires claude CLI |\n| `build_index` | ✅ Yes | Real LEANN tested in external_deps.bats |\n| `search_index` | ✅ Yes | Real LEANN tested in external_deps.", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "69", "text": "bats (if uv available) |\n| `setup_leann_mcp` | ❌ No | Requires claude CLI |\n| `build_index` | ✅ Yes | Real LEANN tested in external_deps.bats |\n| `search_index` | ✅ Yes | Real LEANN tested in external_deps.bats |\n| `leann_status` | ✅ Yes | Output verified |\n| `get_leann_agent_instructions` | ✅ Yes | Content verified |\n| `inject_leann_instructions` | ✅ Yes | File modification |\n| `leann_cmd` | ✅ Yes | Subcommand routing |\n| `fallback_search` | ✅ Yes | Non-LEANN search |\n\n### bin/claw", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "70", "text": "### bin/claw\n\n| Command | Tested | Notes |\n|---------|--------|-------|\n| `help` | ✅ Yes | Content verified |\n| `version` | ✅ Yes | Format verified |\n| `init` | ✅ Yes | All presets, auto-detect |\n| `detect` | ✅ Yes | All project types |\n| `upgrade` | ✅ Partial | Same as init --force |\n| `check` | ❌ No | Placeholder |\n| `status` | ✅ Partial | Same as detect |\n| `leann *` | ✅ Yes | All subcommands |\n| `multi-repo *` | ✅ Yes | All subcommands |\n| `agents *` | ✅ Yes | list, spawn |\n\n## Project Types Tested", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "71", "text": "## Project Types Tested\n\n| Type | Detection Method | Test |\n|------|-----------------|------|\n| game-unity | Assets/, ProjectSettings/ | ✅ |\n| game-godot | project.godot | ✅ |\n| saas | Next.js + Stripe/Auth | ✅ |\n| web | React/Vue/Svelte/Nuxt | ✅ |\n| api | Express/Fastify/NestJS | ✅ |\n| library | main without start | ✅ |\n| cli | bin in package.json or cmd/ | ✅ |\n| web3 | hardhat.config.* or foundry.toml | ✅ |\n| mobile | react-native/expo | ✅ |\n| desktop | electron/tauri | ✅ |\n| data-ml | torch/tensorflow/sklearn | ✅ |\n| unknown | No markers | ✅ |\n\n## Agents Tested", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "72", "text": "## Agents Tested\n\n### General Purpose\n- ✅ senior-dev\n- ✅ product\n- ✅ cto\n- ✅ qa\n- ✅ ux\n- ✅ security\n\n### Game Development\n- ✅ gameplay-programmer\n- ✅ systems-programmer\n- ✅ tools-programmer\n- ✅ technical-artist\n\n### Specialized\n- ✅ data-scientist\n- ✅ mlops\n- ✅ api-designer\n- ✅ docs\n- ✅ auditor\n- ✅ mobile-specialist\n- ✅ desktop-specialist\n\n## Edge Cases Tested\n\n- ✅ Unknown commands\n- ✅ Invalid presets\n- ✅ Missing arguments\n- ✅ Symlinks\n- ✅ Paths with spaces\n- ✅ Empty/malformed config files\n- ✅ Existing .claude directory\n- ✅ Library loading\n- ✅ Regression: unbound variables\n\n## External Dependencies Tested", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "73", "text": "### Specialized\n- ✅ data-scientist\n- ✅ mlops\n- ✅ api-designer\n- ✅ docs\n- ✅ auditor\n- ✅ mobile-specialist\n- ✅ desktop-specialist\n\n## Edge Cases Tested\n\n- ✅ Unknown commands\n- ✅ Invalid presets\n- ✅ Missing arguments\n- ✅ Symlinks\n- ✅ Paths with spaces\n- ✅ Empty/malformed config files\n- ✅ Existing .claude directory\n- ✅ Library loading\n- ✅ Regression: unbound variables\n\n## External Dependencies Tested\n\nThe following are tested in `external_deps.bats` (skipped if dependencies unavailable):\n\n### GitHub CLI (gh)\n- ✅ Installation check\n- ✅ Authentication status\n- ✅ Repository listing\n- ✅ Issue fetching from repo\n- ✅ PR fetching from repo\n- ✅ Multi-repo issue aggregation", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "74", "text": "## External Dependencies Tested\n\nThe following are tested in `external_deps.bats` (skipped if dependencies unavailable):\n\n### GitHub CLI (gh)\n- ✅ Installation check\n- ✅ Authentication status\n- ✅ Repository listing\n- ✅ Issue fetching from repo\n- ✅ PR fetching from repo\n- ✅ Multi-repo issue aggregation\n\n### LEANN\n- ✅ Installation check\n- ✅ Index listing\n- ✅ Index building\n- ✅ Semantic search\n- ✅ Index removal\n\n### uv (Python package manager)\n- ✅ Installation check\n- ✅ Version check\n\n## Not Tested\n\n- LEANN MCP setup (requires claude CLI)\n- sudo installation (requires privileges)\n\n## Running Tests\n\n```bash\n# Quick start with Makefile\nmake setup      # Install all dependencies\nmake test       # Run core tests\nmake test-all   # Run all tests including external deps", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "75", "text": "### LEANN\n- ✅ Installation check\n- ✅ Index listing\n- ✅ Index building\n- ✅ Semantic search\n- ✅ Index removal\n\n### uv (Python package manager)\n- ✅ Installation check\n- ✅ Version check\n\n## Not Tested\n\n- LEANN MCP setup (requires claude CLI)\n- sudo installation (requires privileges)\n\n## Running Tests\n\n```bash\n# Quick start with Makefile\nmake setup      # Install all dependencies\nmake test       # Run core tests\nmake test-all   # Run all tests including external deps\n\n# Or manually:\n./tests/setup_tests.sh\n\n# Run all tests\nbats tests/\n\n# Run specific test file\nbats tests/project_types.bats\n\n# Run external dependency tests only\nbats tests/external_deps.bats\n\n# Run with verbose output\nbats --verbose-run tests/\n```\n\n## CI Pipeline", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "76", "text": "## Running Tests\n\n```bash\n# Quick start with Makefile\nmake setup      # Install all dependencies\nmake test       # Run core tests\nmake test-all   # Run all tests including external deps\n\n# Or manually:\n./tests/setup_tests.sh\n\n# Run all tests\nbats tests/\n\n# Run specific test file\nbats tests/project_types.bats\n\n# Run external dependency tests only\nbats tests/external_deps.bats\n\n# Run with verbose output\nbats --verbose-run tests/\n```\n\n## CI Pipeline\n\nTests are automatically run via GitHub Actions on:\n- Push to main branch\n- Pull requests to main branch\n\nThe CI pipeline:\n1. Runs on both Ubuntu and macOS\n2. Installs uv and LEANN for external dependency tests\n3. Executes all unit, integration, and external tests\n4. Runs shellcheck linting\n5. Tests skip gracefully if dependencies fail to install", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/COVERAGE.md", "file_name": "COVERAGE.md", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "77", "text": "#!/usr/bin/env bash\n# Setup script for test dependencies\n\nset -e\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\necho \"Setting up test dependencies...\"\n\n# Install BATS\nif [ ! -d \"$SCRIPT_DIR/bats\" ]; then\n    echo \"Installing BATS...\"\n    git clone --depth 1 https://github.com/bats-core/bats-core.git \"$SCRIPT_DIR/bats\"\nfi\n\n# Install bats-support\nif [ ! -d \"$SCRIPT_DIR/test_helper/bats-support\" ]; then\n    echo \"Installing bats-support...\"\n    mkdir -p \"$SCRIPT_DIR/test_helper\"\n    git clone --depth 1 https://github.com/bats-core/bats-support.git \"$SCRIPT_DIR/test_helper/bats-support\"\nfi\n\n# Install bats-assert\nif [ ! -d \"$SCRIPT_DIR/test_helper/bats-assert\" ]; then\n    echo \"Installing bats-assert...\"\n    git clone --depth 1 https://github.com/bats-core/bats-assert.git \"$SCRIPT_DIR/test_helper/bats-assert\"\nfi\n\necho \"Test dependencies installed!\"\necho \"\"\necho \"Run tests with:\"\necho \"  $SCRIPT_DIR/bats/bin/bats $SCRIPT_DIR/\"", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/setup_tests.sh", "file_name": "setup_tests.sh", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
{"id": "78", "text": "#!/usr/bin/env bash\n# Test helper functions for BATS tests\n\n# Get the project root directory\nPROJECT_ROOT=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")/..\" && pwd)\"\nexport PROJECT_ROOT\n\n# Source the libraries\nsource \"$PROJECT_ROOT/lib/detect-project.sh\"\nsource \"$PROJECT_ROOT/lib/agents.sh\"\nsource \"$PROJECT_ROOT/lib/leann-setup.sh\"\n\n# Create a temporary directory for tests\ncreate_test_dir() {\n    local dir\n    dir=$(mktemp -d -t claw-test-XXXXXX)\n    echo \"$dir\"\n}\n\n# Clean up a test directory\ncleanup_test_dir() {\n    local dir=\"$1\"\n    if [[ -n \"$dir\" && -d \"$dir\" && \"$dir\" == /tmp/* ]]; then\n        rm -rf \"$dir\"\n    fi\n}\n\n# Create a mock package.json\ncreate_package_json() {\n    local dir=\"$1\"\n    local content=\"$2\"\n    echo \"$content\" > \"$dir/package.json\"\n}\n\n# Create a mock pyproject.toml\ncreate_pyproject_toml() {\n    local dir=\"$1\"\n    local content=\"$2\"\n    echo \"$content\" > \"$dir/pyproject.toml\"\n}\n\n# Create a mock Cargo.toml\ncreate_cargo_toml() {\n    local dir=\"$1\"\n    local content=\"$2\"\n    echo \"$content\" > \"$dir/Cargo.toml\"\n}", "metadata": {"file_path": "/Users/baicoianuionut/som/personal-projects/claude-code-setup/tests/test_helper.bash", "file_name": "test_helper.bash", "creation_date": "2026-01-06", "last_modified_date": "2026-01-06"}}
